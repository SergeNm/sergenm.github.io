{"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\app.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\app.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":14},"end":{"line":12,"column":55}},"5":{"start":{"line":14,"column":18},"end":{"line":14,"column":75}},"6":{"start":{"line":16,"column":16},"end":{"line":16,"column":59}},"7":{"start":{"line":18,"column":15},"end":{"line":18,"column":62}},"8":{"start":{"line":20,"column":19},"end":{"line":20,"column":77}},"9":{"start":{"line":22,"column":22},"end":{"line":22,"column":83}},"10":{"start":{"line":24,"column":22},"end":{"line":24,"column":80}},"11":{"start":{"line":26,"column":12},"end":{"line":26,"column":51}},"12":{"start":{"line":28,"column":18},"end":{"line":28,"column":64}},"13":{"start":{"line":30,"column":14},"end":{"line":30,"column":64}},"14":{"start":{"line":32,"column":0},"end":{"line":32,"column":28}},"15":{"start":{"line":34,"column":10},"end":{"line":34,"column":36}},"16":{"start":{"line":35,"column":11},"end":{"line":35,"column":27}},"17":{"start":{"line":36,"column":15},"end":{"line":36,"column":92}},"18":{"start":{"line":38,"column":0},"end":{"line":38,"column":33}},"19":{"start":{"line":39,"column":0},"end":{"line":41,"column":4}},"20":{"start":{"line":42,"column":0},"end":{"line":42,"column":39}},"21":{"start":{"line":44,"column":0},"end":{"line":51,"column":3}},"22":{"start":{"line":48,"column":2},"end":{"line":48,"column":49}},"23":{"start":{"line":50,"column":2},"end":{"line":50,"column":39}},"24":{"start":{"line":54,"column":0},"end":{"line":54,"column":43}},"25":{"start":{"line":55,"column":0},"end":{"line":55,"column":37}},"26":{"start":{"line":56,"column":0},"end":{"line":56,"column":49}},"27":{"start":{"line":57,"column":0},"end":{"line":57,"column":49}},"28":{"start":{"line":58,"column":0},"end":{"line":58,"column":36}},"29":{"start":{"line":60,"column":0},"end":{"line":63,"column":3}},"30":{"start":{"line":61,"column":2},"end":{"line":61,"column":50}},"31":{"start":{"line":62,"column":2},"end":{"line":62,"column":38}},"32":{"start":{"line":64,"column":15},"end":{"line":64,"column":18}},"33":{"start":{"line":65,"column":0},"end":{"line":65,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":47,"column":8},"end":{"line":47,"column":9}},"loc":{"start":{"line":47,"column":20},"end":{"line":49,"column":1}},"line":47},"1":{"name":"(anonymous_1)","decl":{"start":{"line":49,"column":12},"end":{"line":49,"column":13}},"loc":{"start":{"line":49,"column":27},"end":{"line":51,"column":1}},"line":49},"2":{"name":"(anonymous_2)","decl":{"start":{"line":60,"column":17},"end":{"line":60,"column":18}},"loc":{"start":{"line":60,"column":29},"end":{"line":63,"column":1}},"line":60}},"branchMap":{"0":{"loc":{"start":{"line":36,"column":15},"end":{"line":36,"column":92}},"type":"cond-expr","locations":[{"start":{"line":36,"column":48},"end":{"line":36,"column":66}},{"start":{"line":36,"column":69},"end":{"line":36,"column":92}}],"line":36}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1},"f":{"0":1,"1":0,"2":1},"b":{"0":[0,1]},"inputSourceMap":{"version":3,"sources":["app.js"],"names":["dotenv","config","app","port","process","env","PORT","database","NODE_ENV","DB_URI","DB_URI_TEST","use","bodyParser","urlencoded","extended","json","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","console","log","err","error","usersRouter","mainRouter","articlesRouter","messagesRouter","router","listen"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAGAA,mBAAOC,MAAP;;AACA,IAAMC,GAAG,GAAG,0BAAZ;AAEA,IAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAzB;AACA,IAAIC,QAAQ,GAAGH,OAAO,CAACC,GAAR,CAAYG,QAAZ,KAAyB,KAAzB,GAAiCJ,OAAO,CAACC,GAAR,CAAYI,MAA7C,GACiCL,OAAO,CAACC,GAAR,CAAYK,WAD5D,C,CAGA;;AACAR,GAAG,CAACS,GAAJ,CAAQ,uBAAR;AACAT,GAAG,CAACS,GAAJ,CAAQC,uBAAWC,UAAX,CAAsB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAtB,CAAR;AACAZ,GAAG,CAACS,GAAJ,CAAQC,uBAAWG,IAAX,EAAR,E,CAGA;;AACAC,qBACGC,OADH,CACWV,QADX,EACqB;AACjBW,EAAAA,eAAe,EAAE,IADA;AAEjBC,EAAAA,kBAAkB,EAAE;AAFH,CADrB,EAKGC,IALH,CAKQ,YAAM;AACVC,EAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ;AACD,CAPH,WAQS,UAACC,GAAD,EAAS;AACdF,EAAAA,OAAO,CAACG,KAAR,kBAAwBD,GAAxB;AACD,CAVH,E,CAaA;;;AACArB,GAAG,CAACS,GAAJ,CAAQ,QAAR,EAAkBc,uBAAlB;AACAvB,GAAG,CAACS,GAAJ,CAAQ,GAAR,EAAae,sBAAb;AACAxB,GAAG,CAACS,GAAJ,CAAQ,WAAR,EAAqBgB,0BAArB;AACAzB,GAAG,CAACS,GAAJ,CAAQ,WAAR,EAAqBiB,0BAArB;AACA1B,GAAG,CAACS,GAAJ,CAAQ,MAAR,EAAgBkB,kBAAhB,E,CAEA;;AACA3B,GAAG,CAAC4B,MAAJ,CAAW3B,IAAX,EAAiB,YAAM;AACrBkB,EAAAA,OAAO,CAACC,GAAR,8BAAkCnB,IAAlC;AACA,2BAAYD,GAAZ,EAAiBC,IAAjB;AACD,CAHD;eAMeD,G","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\","sourcesContent":["import express from \"express\";\r\nimport dotenv from \"dotenv\";\r\nimport mainRouter from \"./routes/mainRouter.js\";\r\nimport mongoose from \"mongoose\";\r\nimport swaggerDocs from './swagger.js'\r\nimport usersRouter from \"./routes/usersRouter.js\";\r\nimport articlesRouter from \"./routes/articlesRouter.js\";\r\nimport messagesRouter from \"./routes/messagesRouter\"\r\nimport cors from 'cors'\r\nimport bodyParser from 'body-parser'\r\nimport router from './routes/routes'\r\n\r\n\r\ndotenv.config();\r\nconst app = express();\r\n\r\nconst port = process.env.PORT;\r\nlet database = process.env.NODE_ENV === 'dev' ? process.env.DB_URI\r\n                                              : process.env.DB_URI_TEST;\r\n\r\n//Middlewares\r\napp.use(cors());\r\napp.use(bodyParser.urlencoded({ extended: false }));\r\napp.use(bodyParser.json());\r\n\r\n\r\n//connect to database\r\nmongoose\r\n  .connect(database, {\r\n    useNewUrlParser: true,\r\n    useUnifiedTopology: true\r\n  })\r\n  .then(() => {\r\n    console.log(\"Database connection established\");\r\n  })\r\n  .catch((err) => {\r\n    console.error(`ERROR: ${err}`);\r\n  });\r\n\r\n\r\n//Routes\r\napp.use(\"/users\", usersRouter)\r\napp.use(\"/\", mainRouter)\r\napp.use(\"/articles\", articlesRouter)\r\napp.use(\"/messages\", messagesRouter)\r\napp.use(\"/api\", router)\r\n\r\n//start app\r\napp.listen(port, () => {\r\n  console.log(`Listening on port: ${port}`);\r\n  swaggerDocs(app, port)\r\n});\r\n\r\n\r\nexport default app;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9ec219e81bdb7c0098cd4f8b76e2ff0e4a4c0803","contentHash":"5fdcf5fc2d211bd507377c5ca81afb4d938d42ebabd684bbd0a0bf027a7bba9a"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\routes\\mainRouter.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\routes\\mainRouter.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":22},"end":{"line":12,"column":89}},"5":{"start":{"line":14,"column":17},"end":{"line":14,"column":45}},"6":{"start":{"line":16,"column":21},"end":{"line":16,"column":53}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":47}},"8":{"start":{"line":18,"column":15},"end":{"line":18,"column":25}},"9":{"start":{"line":19,"column":0},"end":{"line":19,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["mainRouter.js"],"names":["mainRouter","express","Router","mainController","MainController","get","HelloWorld"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA,IAAMA,UAAU,GAAGC,oBAAQC,MAAR,EAAnB;;AAEA,IAAMC,cAAc,GAAG,IAAIC,0BAAJ,EAAvB;AAEAJ,UAAU,CAACK,GAAX,CAAe,GAAf,EAAoBF,cAAc,CAACG,UAAnC;eAEeN,U","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\routes\\","sourcesContent":["import express from \"express\";\r\nimport MainController from \"../controllers/MainController.js\";\r\nconst mainRouter = express.Router();\r\n\r\nconst mainController = new MainController();\r\n\r\nmainRouter.get(\"/\", mainController.HelloWorld);\r\n\r\nexport default mainRouter;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d7321c390c979b307b04b1138664612b86fb424f","contentHash":"d1ec065476ab2386531b4b3f3eaf77c3bb997db266d4c6a7351f9684c4a4917e"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\MainController.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\MainController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":23},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":89}},"5":{"start":{"line":14,"column":34},"end":{"line":26,"column":3}},"6":{"start":{"line":16,"column":4},"end":{"line":16,"column":59}},"7":{"start":{"line":19,"column":2},"end":{"line":24,"column":6}},"8":{"start":{"line":22,"column":6},"end":{"line":22,"column":37}},"9":{"start":{"line":25,"column":2},"end":{"line":25,"column":24}},"10":{"start":{"line":28,"column":15},"end":{"line":28,"column":29}},"11":{"start":{"line":29,"column":0},"end":{"line":29,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":14,"column":34},"end":{"line":14,"column":35}},"loc":{"start":{"line":14,"column":46},"end":{"line":26,"column":1}},"line":14},"1":{"name":"MainController","decl":{"start":{"line":15,"column":11},"end":{"line":15,"column":25}},"loc":{"start":{"line":15,"column":28},"end":{"line":17,"column":3}},"line":15},"2":{"name":"HelloWorld","decl":{"start":{"line":21,"column":20},"end":{"line":21,"column":30}},"loc":{"start":{"line":21,"column":41},"end":{"line":23,"column":5}},"line":21}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":1,"11":1},"f":{"0":1,"1":1,"2":0},"b":{},"inputSourceMap":{"version":3,"sources":["MainController.js"],"names":["MainController","req","res","send"],"mappings":";;;;;;;;;;;;;IAAMA,c;;;;;;;WACF,oBAAWC,GAAX,EAAgBC,GAAhB,EAAqB;AACjB,aAAOA,GAAG,CAACC,IAAJ,CAAS,aAAT,CAAP;AACH;;;;;eAEUH,c","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\","sourcesContent":["class MainController {\r\n    HelloWorld(req, res) {\r\n        return res.send(\"Hello World\");\r\n    }\r\n}\r\nexport default MainController;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"41a0c05e34bdf0314d651a6921554ae11a094744","contentHash":"6a7edfa775255952d740568855ecefa00d8b9042f44a8733af0dde66290aadeb"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\swagger.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\swagger.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":20},"end":{"line":10,"column":68}},"4":{"start":{"line":12,"column":24},"end":{"line":12,"column":77}},"5":{"start":{"line":14,"column":14},"end":{"line":38,"column":1}},"6":{"start":{"line":39,"column":18},"end":{"line":39,"column":56}},"7":{"start":{"line":43,"column":2},"end":{"line":43,"column":104}},"8":{"start":{"line":45,"column":2},"end":{"line":48,"column":5}},"9":{"start":{"line":46,"column":4},"end":{"line":46,"column":54}},"10":{"start":{"line":47,"column":4},"end":{"line":47,"column":26}},"11":{"start":{"line":49,"column":2},"end":{"line":49,"column":76}},"12":{"start":{"line":52,"column":15},"end":{"line":52,"column":26}},"13":{"start":{"line":53,"column":0},"end":{"line":53,"column":30}}},"fnMap":{"0":{"name":"swaggerDocs","decl":{"start":{"line":41,"column":9},"end":{"line":41,"column":20}},"loc":{"start":{"line":41,"column":32},"end":{"line":50,"column":1}},"line":41},"1":{"name":"(anonymous_1)","decl":{"start":{"line":45,"column":24},"end":{"line":45,"column":25}},"loc":{"start":{"line":45,"column":44},"end":{"line":48,"column":3}},"line":45}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":1,"12":1,"13":1},"f":{"0":1,"1":0},"b":{},"inputSourceMap":{"version":3,"sources":["swagger.js"],"names":["options","definition","openapi","info","title","version","paths","security","bearerAuth","components","securitySchemes","type","scheme","bearerFormat","name","apis","swaggerSpec","swaggerDocs","app","port","use","swaggerUi","serve","setup","get","req","res","setHeader","send","console"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA,IAAMA,OAAO,GAAG;AACdC,EAAAA,UAAU,EAAE;AACTC,IAAAA,OAAO,EAAE,OADA;AAEVC,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE,yBADH;AAEJC,MAAAA,OAAO,EAAE;AAFL,KAFI;AAMVC,IAAAA,KAAK,EAAE,EANG;AAOVC,IAAAA,QAAQ,EAAE,CACR;AACEC,MAAAA,UAAU,EAAE;AADd,KADQ,CAPA;AAYVC,IAAAA,UAAU,EAAE;AACRC,MAAAA,eAAe,EAAE;AACfF,QAAAA,UAAU,EAAE;AACVG,UAAAA,IAAI,EAAE,MADI;AAEVC,UAAAA,MAAM,EAAE,QAFE;AAGVC,UAAAA,YAAY,EAAE,KAHJ;AAIVC,UAAAA,IAAI,EAAE,YAJI;AAKV,gBAAI;AALM;AADG;AADT;AAZF,GADE;AA0BdC,EAAAA,IAAI,EAAE,CAAC,eAAD,EAAkB,oBAAlB;AA1BQ,CAAhB;AA6BA,IAAMC,WAAW,GAAG,8BAAahB,OAAb,CAApB;;AAEA,SAASiB,WAAT,CAAqBC,GAArB,EAA0BC,IAA1B,EAAgC;AAC9B;AACAD,EAAAA,GAAG,CAACE,GAAJ,CAAQ,OAAR,EAAiBC,6BAAUC,KAA3B,EAAkCD,6BAAUE,KAAV,CAAgBP,WAAhB,CAAlC,EAF8B,CAI9B;;AACAE,EAAAA,GAAG,CAACM,GAAJ,CAAQ,YAAR,EAAsB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAClCA,IAAAA,GAAG,CAACC,SAAJ,CAAc,cAAd,EAA8B,kBAA9B;AACAD,IAAAA,GAAG,CAACE,IAAJ,CAASZ,WAAT;AACD,GAHD;AAIAa,EAAAA,OAAO,CAAC1B,IAAR,8CAAmDgB,IAAnD;AACD;;eAEcF,W","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\","sourcesContent":["import swaggerJsdoc from 'swagger-jsdoc'\r\nimport swaggerUi from 'swagger-ui-express'\r\n\r\nconst options = {\r\n  definition: {\r\n     openapi: '3.0.0',\r\n    info: {\r\n      title: 'LoopBack Application v2',\r\n      version: '1.0.2',\r\n    },\r\n    paths: {},\r\n    security: [\r\n      {\r\n        bearerAuth: [],\r\n      },\r\n    ],\r\n    components: {\r\n        securitySchemes: {\r\n          bearerAuth: {\r\n            type: 'http',\r\n            scheme: 'bearer',\r\n            bearerFormat: 'JWT',\r\n            name: 'bearerAuth',\r\n            in: 'header'\r\n          }\r\n        }\r\n    },\r\n  },\r\n    \r\n  apis: ['./routes/*.js', './controllers/*.js'],\r\n}\r\n\r\nconst swaggerSpec = swaggerJsdoc(options)\r\n\r\nfunction swaggerDocs(app, port) {\r\n  // Swagger Page\r\n  app.use('/docs', swaggerUi.serve, swaggerUi.setup(swaggerSpec))\r\n\r\n  // Docs in JSON format\r\n  app.get('/docs.json', (req, res) => {\r\n    res.setHeader('Content-Type', 'application/json')\r\n    res.send(swaggerSpec)\r\n  })\r\n  console.info(`Docs available at http://localhost:${port}/docs`)\r\n}\r\n\r\nexport default swaggerDocs\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6f08789df147f4ab2207cf65e5959a9e94e11256","contentHash":"fbdd21bd6e1c9adba507995134c2d43f279c29e9a7edc39d5e1d3261f5aa51c4"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\routes\\usersRouter.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\routes\\usersRouter.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":23},"end":{"line":12,"column":91}},"5":{"start":{"line":14,"column":17},"end":{"line":14,"column":79}},"6":{"start":{"line":16,"column":21},"end":{"line":16,"column":87}},"7":{"start":{"line":18,"column":18},"end":{"line":18,"column":46}},"8":{"start":{"line":20,"column":12},"end":{"line":20,"column":45}},"9":{"start":{"line":21,"column":0},"end":{"line":21,"column":65}},"10":{"start":{"line":22,"column":0},"end":{"line":22,"column":64}},"11":{"start":{"line":23,"column":0},"end":{"line":23,"column":70}},"12":{"start":{"line":24,"column":15},"end":{"line":24,"column":26}},"13":{"start":{"line":25,"column":0},"end":{"line":25,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["usersRouter.js"],"names":["usersRouter","express","Router","users","UsersController","post","cleanBody","signup","patch","login","validateToken","logout"],"mappings":";;;;;;;;;AAAA;;AACA;;AAGA;;AACA;;AAHA,IAAMA,WAAW,GAAGC,oBAAQC,MAAR,EAApB;;AAKA,IAAMC,KAAK,GAAG,IAAIC,2BAAJ,EAAd;AAEAJ,WAAW,CAACK,IAAZ,CAAiB,SAAjB,EAA4BC,qBAA5B,EAAuCH,KAAK,CAACI,MAA7C;AAEAP,WAAW,CAACQ,KAAZ,CAAkB,QAAlB,EAA4BF,qBAA5B,EAAuCH,KAAK,CAACM,KAA7C;AAEAT,WAAW,CAACQ,KAAZ,CAAkB,SAAlB,EAA6BE,yBAA7B,EAA4CP,KAAK,CAACQ,MAAlD;eAEeX,W","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\routes\\","sourcesContent":["import express from \"express\";\r\nimport UsersController from \"../controllers/UsersController.js\";\r\nconst usersRouter = express.Router();\r\n\r\nimport cleanBody from \"../middlewares/cleanBody.js\";\r\nimport validateToken from \"../middlewares/validateToken.js\";\r\n\r\nconst users = new UsersController();\r\n\r\nusersRouter.post(\"/signup\", cleanBody, users.signup);\r\n\r\nusersRouter.patch(\"/login\", cleanBody, users.login);\r\n\r\nusersRouter.patch(\"/logout\", validateToken, users.logout);\r\n\r\nexport default usersRouter;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fcab35e2432a2aca90175729dd9e0bf4427b0ba9","contentHash":"d9903bdbdc9e7507a05b8c73f9af6bc7748b25604e8840e6d9ad9bc79ff69e94"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\UsersController.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\UsersController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":99}},"5":{"start":{"line":14,"column":23},"end":{"line":14,"column":95}},"6":{"start":{"line":16,"column":20},"end":{"line":16,"column":89}},"7":{"start":{"line":18,"column":17},"end":{"line":18,"column":75}},"8":{"start":{"line":20,"column":20},"end":{"line":20,"column":80}},"9":{"start":{"line":22,"column":24},"end":{"line":22,"column":88}},"10":{"start":{"line":24,"column":19},"end":{"line":24,"column":83}},"11":{"start":{"line":26,"column":18},"end":{"line":26,"column":54}},"12":{"start":{"line":28,"column":35},"end":{"line":264,"column":3}},"13":{"start":{"line":30,"column":4},"end":{"line":30,"column":60}},"14":{"start":{"line":33,"column":2},"end":{"line":262,"column":6}},"15":{"start":{"line":36,"column":20},"end":{"line":105,"column":9}},"16":{"start":{"line":39,"column":8},"end":{"line":104,"column":37}},"17":{"start":{"line":40,"column":10},"end":{"line":103,"column":11}},"18":{"start":{"line":41,"column":12},"end":{"line":102,"column":13}},"19":{"start":{"line":43,"column":16},"end":{"line":43,"column":34}},"20":{"start":{"line":45,"column":16},"end":{"line":45,"column":119}},"21":{"start":{"line":47,"column":16},"end":{"line":50,"column":17}},"22":{"start":{"line":48,"column":18},"end":{"line":48,"column":36}},"23":{"start":{"line":49,"column":18},"end":{"line":49,"column":24}},"24":{"start":{"line":52,"column":16},"end":{"line":54,"column":20}},"25":{"start":{"line":57,"column":16},"end":{"line":57,"column":34}},"26":{"start":{"line":58,"column":16},"end":{"line":60,"column":19}},"27":{"start":{"line":63,"column":16},"end":{"line":63,"column":37}},"28":{"start":{"line":65,"column":16},"end":{"line":68,"column":17}},"29":{"start":{"line":66,"column":18},"end":{"line":66,"column":36}},"30":{"start":{"line":67,"column":18},"end":{"line":67,"column":24}},"31":{"start":{"line":70,"column":16},"end":{"line":73,"column":20}},"32":{"start":{"line":76,"column":16},"end":{"line":76,"column":32}},"33":{"start":{"line":77,"column":16},"end":{"line":77,"column":35}},"34":{"start":{"line":78,"column":16},"end":{"line":78,"column":72}},"35":{"start":{"line":81,"column":16},"end":{"line":81,"column":47}},"36":{"start":{"line":82,"column":16},"end":{"line":82,"column":47}},"37":{"start":{"line":83,"column":16},"end":{"line":83,"column":58}},"38":{"start":{"line":84,"column":16},"end":{"line":84,"column":35}},"39":{"start":{"line":85,"column":16},"end":{"line":85,"column":38}},"40":{"start":{"line":88,"column":16},"end":{"line":88,"column":77}},"41":{"start":{"line":91,"column":16},"end":{"line":91,"column":35}},"42":{"start":{"line":92,"column":16},"end":{"line":92,"column":51}},"43":{"start":{"line":93,"column":16},"end":{"line":93,"column":43}},"44":{"start":{"line":94,"column":16},"end":{"line":97,"column":20}},"45":{"start":{"line":101,"column":16},"end":{"line":101,"column":39}},"46":{"start":{"line":108,"column":8},"end":{"line":108,"column":46}},"47":{"start":{"line":111,"column":6},"end":{"line":111,"column":20}},"48":{"start":{"line":116,"column":19},"end":{"line":203,"column":9}},"49":{"start":{"line":119,"column":8},"end":{"line":202,"column":38}},"50":{"start":{"line":120,"column":10},"end":{"line":201,"column":11}},"51":{"start":{"line":121,"column":12},"end":{"line":200,"column":13}},"52":{"start":{"line":123,"column":16},"end":{"line":123,"column":35}},"53":{"start":{"line":124,"column":16},"end":{"line":124,"column":35}},"54":{"start":{"line":125,"column":16},"end":{"line":127,"column":19}},"55":{"start":{"line":130,"column":16},"end":{"line":130,"column":38}},"56":{"start":{"line":132,"column":16},"end":{"line":135,"column":17}},"57":{"start":{"line":133,"column":18},"end":{"line":133,"column":37}},"58":{"start":{"line":134,"column":18},"end":{"line":134,"column":24}},"59":{"start":{"line":137,"column":16},"end":{"line":140,"column":20}},"60":{"start":{"line":143,"column":16},"end":{"line":143,"column":35}},"61":{"start":{"line":144,"column":16},"end":{"line":144,"column":91}},"62":{"start":{"line":147,"column":16},"end":{"line":147,"column":41}},"63":{"start":{"line":149,"column":16},"end":{"line":152,"column":17}},"64":{"start":{"line":150,"column":18},"end":{"line":150,"column":38}},"65":{"start":{"line":151,"column":18},"end":{"line":151,"column":24}},"66":{"start":{"line":154,"column":16},"end":{"line":157,"column":20}},"67":{"start":{"line":160,"column":16},"end":{"line":160,"column":36}},"68":{"start":{"line":161,"column":16},"end":{"line":161,"column":67}},"69":{"start":{"line":164,"column":16},"end":{"line":164,"column":52}},"70":{"start":{"line":165,"column":16},"end":{"line":165,"column":49}},"71":{"start":{"line":166,"column":16},"end":{"line":166,"column":49}},"72":{"start":{"line":168,"column":16},"end":{"line":171,"column":17}},"73":{"start":{"line":169,"column":18},"end":{"line":169,"column":38}},"74":{"start":{"line":170,"column":18},"end":{"line":170,"column":24}},"75":{"start":{"line":173,"column":16},"end":{"line":176,"column":20}},"76":{"start":{"line":179,"column":16},"end":{"line":179,"column":41}},"77":{"start":{"line":180,"column":16},"end":{"line":180,"column":41}},"78":{"start":{"line":181,"column":16},"end":{"line":181,"column":28}},"79":{"start":{"line":182,"column":16},"end":{"line":186,"column":20}},"80":{"start":{"line":189,"column":16},"end":{"line":189,"column":36}},"81":{"start":{"line":190,"column":16},"end":{"line":190,"column":53}},"82":{"start":{"line":191,"column":16},"end":{"line":191,"column":44}},"83":{"start":{"line":192,"column":16},"end":{"line":195,"column":20}},"84":{"start":{"line":199,"column":16},"end":{"line":199,"column":40}},"85":{"start":{"line":206,"column":8},"end":{"line":206,"column":45}},"86":{"start":{"line":209,"column":6},"end":{"line":209,"column":19}},"87":{"start":{"line":214,"column":20},"end":{"line":254,"column":9}},"88":{"start":{"line":216,"column":8},"end":{"line":253,"column":38}},"89":{"start":{"line":217,"column":10},"end":{"line":252,"column":11}},"90":{"start":{"line":218,"column":12},"end":{"line":251,"column":13}},"91":{"start":{"line":220,"column":16},"end":{"line":220,"column":35}},"92":{"start":{"line":221,"column":16},"end":{"line":221,"column":48}},"93":{"start":{"line":222,"column":16},"end":{"line":222,"column":35}},"94":{"start":{"line":223,"column":16},"end":{"line":225,"column":19}},"95":{"start":{"line":228,"column":16},"end":{"line":228,"column":38}},"96":{"start":{"line":229,"column":16},"end":{"line":229,"column":38}},"97":{"start":{"line":230,"column":16},"end":{"line":230,"column":35}},"98":{"start":{"line":231,"column":16},"end":{"line":231,"column":35}},"99":{"start":{"line":234,"column":16},"end":{"line":237,"column":20}},"100":{"start":{"line":240,"column":16},"end":{"line":240,"column":36}},"101":{"start":{"line":241,"column":16},"end":{"line":241,"column":53}},"102":{"start":{"line":242,"column":16},"end":{"line":242,"column":44}},"103":{"start":{"line":243,"column":16},"end":{"line":246,"column":20}},"104":{"start":{"line":250,"column":16},"end":{"line":250,"column":40}},"105":{"start":{"line":257,"column":8},"end":{"line":257,"column":46}},"106":{"start":{"line":260,"column":6},"end":{"line":260,"column":20}},"107":{"start":{"line":263,"column":2},"end":{"line":263,"column":25}},"108":{"start":{"line":266,"column":15},"end":{"line":266,"column":30}},"109":{"start":{"line":267,"column":0},"end":{"line":267,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":28,"column":35},"end":{"line":28,"column":36}},"loc":{"start":{"line":28,"column":47},"end":{"line":264,"column":1}},"line":28},"1":{"name":"UsersController","decl":{"start":{"line":29,"column":11},"end":{"line":29,"column":26}},"loc":{"start":{"line":29,"column":29},"end":{"line":31,"column":3}},"line":29},"2":{"name":"(anonymous_2)","decl":{"start":{"line":35,"column":11},"end":{"line":35,"column":12}},"loc":{"start":{"line":35,"column":23},"end":{"line":112,"column":5}},"line":35},"3":{"name":"_callee","decl":{"start":{"line":36,"column":107},"end":{"line":36,"column":114}},"loc":{"start":{"line":36,"column":125},"end":{"line":105,"column":7}},"line":36},"4":{"name":"_callee$","decl":{"start":{"line":39,"column":53},"end":{"line":39,"column":61}},"loc":{"start":{"line":39,"column":72},"end":{"line":104,"column":9}},"line":39},"5":{"name":"signup","decl":{"start":{"line":107,"column":15},"end":{"line":107,"column":21}},"loc":{"start":{"line":107,"column":31},"end":{"line":109,"column":7}},"line":107},"6":{"name":"(anonymous_6)","decl":{"start":{"line":115,"column":11},"end":{"line":115,"column":12}},"loc":{"start":{"line":115,"column":23},"end":{"line":210,"column":5}},"line":115},"7":{"name":"_callee2","decl":{"start":{"line":116,"column":106},"end":{"line":116,"column":114}},"loc":{"start":{"line":116,"column":125},"end":{"line":203,"column":7}},"line":116},"8":{"name":"_callee2$","decl":{"start":{"line":119,"column":53},"end":{"line":119,"column":62}},"loc":{"start":{"line":119,"column":74},"end":{"line":202,"column":9}},"line":119},"9":{"name":"login","decl":{"start":{"line":205,"column":15},"end":{"line":205,"column":20}},"loc":{"start":{"line":205,"column":31},"end":{"line":207,"column":7}},"line":205},"10":{"name":"(anonymous_10)","decl":{"start":{"line":213,"column":11},"end":{"line":213,"column":12}},"loc":{"start":{"line":213,"column":23},"end":{"line":261,"column":5}},"line":213},"11":{"name":"_callee3","decl":{"start":{"line":214,"column":107},"end":{"line":214,"column":115}},"loc":{"start":{"line":214,"column":126},"end":{"line":254,"column":7}},"line":214},"12":{"name":"_callee3$","decl":{"start":{"line":216,"column":53},"end":{"line":216,"column":62}},"loc":{"start":{"line":216,"column":74},"end":{"line":253,"column":9}},"line":216},"13":{"name":"logout","decl":{"start":{"line":256,"column":15},"end":{"line":256,"column":21}},"loc":{"start":{"line":256,"column":32},"end":{"line":258,"column":7}},"line":256}},"branchMap":{"0":{"loc":{"start":{"line":41,"column":12},"end":{"line":102,"column":13}},"type":"switch","locations":[{"start":{"line":42,"column":14},"end":{"line":54,"column":20}},{"start":{"line":56,"column":14},"end":{"line":60,"column":19}},{"start":{"line":62,"column":14},"end":{"line":73,"column":20}},{"start":{"line":75,"column":14},"end":{"line":78,"column":72}},{"start":{"line":80,"column":14},"end":{"line":85,"column":38}},{"start":{"line":87,"column":14},"end":{"line":88,"column":77}},{"start":{"line":90,"column":14},"end":{"line":97,"column":20}},{"start":{"line":99,"column":14},"end":{"line":99,"column":22}},{"start":{"line":100,"column":14},"end":{"line":101,"column":39}}],"line":41},"1":{"loc":{"start":{"line":47,"column":16},"end":{"line":50,"column":17}},"type":"if","locations":[{"start":{"line":47,"column":16},"end":{"line":50,"column":17}},{"start":{"line":47,"column":16},"end":{"line":50,"column":17}}],"line":47},"2":{"loc":{"start":{"line":65,"column":16},"end":{"line":68,"column":17}},"type":"if","locations":[{"start":{"line":65,"column":16},"end":{"line":68,"column":17}},{"start":{"line":65,"column":16},"end":{"line":68,"column":17}}],"line":65},"3":{"loc":{"start":{"line":121,"column":12},"end":{"line":200,"column":13}},"type":"switch","locations":[{"start":{"line":122,"column":14},"end":{"line":127,"column":19}},{"start":{"line":129,"column":14},"end":{"line":140,"column":20}},{"start":{"line":142,"column":14},"end":{"line":144,"column":91}},{"start":{"line":146,"column":14},"end":{"line":157,"column":20}},{"start":{"line":159,"column":14},"end":{"line":161,"column":67}},{"start":{"line":163,"column":14},"end":{"line":176,"column":20}},{"start":{"line":178,"column":14},"end":{"line":186,"column":20}},{"start":{"line":188,"column":14},"end":{"line":195,"column":20}},{"start":{"line":197,"column":14},"end":{"line":197,"column":22}},{"start":{"line":198,"column":14},"end":{"line":199,"column":40}}],"line":121},"4":{"loc":{"start":{"line":132,"column":16},"end":{"line":135,"column":17}},"type":"if","locations":[{"start":{"line":132,"column":16},"end":{"line":135,"column":17}},{"start":{"line":132,"column":16},"end":{"line":135,"column":17}}],"line":132},"5":{"loc":{"start":{"line":149,"column":16},"end":{"line":152,"column":17}},"type":"if","locations":[{"start":{"line":149,"column":16},"end":{"line":152,"column":17}},{"start":{"line":149,"column":16},"end":{"line":152,"column":17}}],"line":149},"6":{"loc":{"start":{"line":168,"column":16},"end":{"line":171,"column":17}},"type":"if","locations":[{"start":{"line":168,"column":16},"end":{"line":171,"column":17}},{"start":{"line":168,"column":16},"end":{"line":171,"column":17}}],"line":168},"7":{"loc":{"start":{"line":218,"column":12},"end":{"line":251,"column":13}},"type":"switch","locations":[{"start":{"line":219,"column":14},"end":{"line":225,"column":19}},{"start":{"line":227,"column":14},"end":{"line":231,"column":35}},{"start":{"line":233,"column":14},"end":{"line":237,"column":20}},{"start":{"line":239,"column":14},"end":{"line":246,"column":20}},{"start":{"line":248,"column":14},"end":{"line":248,"column":22}},{"start":{"line":249,"column":14},"end":{"line":250,"column":40}}],"line":218}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":2,"17":8,"18":11,"19":2,"20":2,"21":2,"22":2,"23":2,"24":0,"25":2,"26":2,"27":2,"28":2,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":0,"42":0,"43":0,"44":0,"45":2,"46":2,"47":1,"48":1,"49":3,"50":12,"51":16,"52":3,"53":3,"54":3,"55":3,"56":3,"57":2,"58":2,"59":1,"60":2,"61":2,"62":2,"63":2,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":0,"76":1,"77":1,"78":1,"79":1,"80":0,"81":0,"82":0,"83":0,"84":3,"85":3,"86":1,"87":1,"88":1,"89":4,"90":4,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":0,"101":0,"102":0,"103":0,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1},"f":{"0":1,"1":1,"2":1,"3":2,"4":8,"5":2,"6":1,"7":3,"8":12,"9":3,"10":1,"11":1,"12":4,"13":1},"b":{"0":[2,2,2,1,1,1,0,0,2],"1":[2,0],"2":[1,1],"3":[3,3,2,2,1,1,1,0,0,3],"4":[2,1],"5":[1,1],"6":[1,0],"7":[1,1,1,0,0,1]},"inputSourceMap":{"version":3,"sources":["UsersController.js"],"names":["UsersController","req","res","body","error","status","json","message","details","User","findOne","username","user","password","hashedPassword","newUser","save","send","console","isValid","token","accessToken","testing","success","decoded"],"mappings":"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","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\","sourcesContent":["import User from \"../models/user.model.js\";\r\nimport hashPassword from \"./helpers/hashPassword.js\";\r\nimport comparePasswords from \"./helpers/comparePasswords.js\";\r\nimport generateJWT from '../middlewares/generateJWT.js'\r\nimport { registerValidation, loginValidation } from '../middlewares/validation'\r\n\r\n\r\nclass UsersController {\r\n\r\n  async signup(req, res) {\r\n\r\n    try {\r\n    //validate before submit the data\r\n    const { error } = registerValidation(req.body);\r\n    if (error) return res.status(400).json({ message: error.details[0].message })\r\n\r\n\r\n      let user = await User.findOne({\r\n        username: req.body.username,\r\n      });\r\n      \r\n\r\n      if (user) {\r\n        return res.status(400).json({\r\n          error: true,\r\n          message: \"Username is already in use\",\r\n        });\r\n      }\r\n\r\n      user = req.body;\r\n\r\n      const hashedPassword = await hashPassword(req.body.password);\r\n\r\n      user.password = hashedPassword;\r\n\r\n      const newUser = new User(user);\r\n\r\n      await newUser.save();\r\n\r\n      return res.status(201).send(user);\r\n    } catch (error) {\r\n      console.error(error);\r\n      return res.status(500).json({\r\n        error: true,\r\n        message: \"Cannot Sign up\",\r\n      });\r\n    }\r\n  }\r\n\r\n  async login(req, res) {\r\n    \r\n    // //validate login info\r\n    // const { error } = loginValidation(req.body);\r\n    // if (error) return res.status(400).json({ message: error.details[0].message })\r\n\r\n    try {\r\n      let user = await User.findOne({ username: req.body.username });\r\n\r\n      if (!user) {\r\n        return res.status(404).json({\r\n          error: true,\r\n          message: \"Account not found\",\r\n        });\r\n      }\r\n\r\n      const isValid = await comparePasswords(req.body.password, user.password);\r\n\r\n      if (!isValid) {\r\n        return res.status(400).json({\r\n          error: true,\r\n          message: \"Invalid password\",\r\n        });\r\n      }\r\n\r\n      const { error, token } = await generateJWT(user.username);\r\n\r\n      if (error) {\r\n        return res.status(500).json({\r\n          error: true,\r\n          message: \"Couldn't create access token. Please try again later.\",\r\n        });\r\n      }\r\n\r\n      user.accessToken = token ;\r\n      user.testing = \"testing\"\r\n\r\n      user.save();\r\n\r\n      return res.status(200).send({\r\n        success: true,\r\n        message: \"User logged in successfully\",\r\n        token: token\r\n      });\r\n    } catch (error) {\r\n      console.error(error);\r\n      return res.status(500).json({\r\n        error: true,\r\n        message: \"Couldn't login. Please try again.\",\r\n      });\r\n    }\r\n  }\r\n\r\n  async logout(req, res) {\r\n    try {\r\n      const { username } = req.decoded;\r\n\r\n      let user = await User.findOne({ username });\r\n\r\n      user.accessToken = \"\";\r\n\r\n      await user.save();\r\n\r\n      return res.status(200).json({\r\n        success: true,\r\n        message: \"User logged out\",\r\n      });\r\n    } catch (error) {\r\n      console.error(error);\r\n      return res.status(500).json({\r\n        error: true,\r\n        message: error,\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport default UsersController;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"87bcd0969f8c9a15bdc95020ac03d658ca24d603","contentHash":"72a5520212f7a83ada526b71179806dde0a1904322ee91df625fe849f13fa56d"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\models\\user.model.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\models\\user.model.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":16},"end":{"line":10,"column":59}},"4":{"start":{"line":12,"column":13},"end":{"line":12,"column":40}},"5":{"start":{"line":13,"column":17},"end":{"line":32,"column":2}},"6":{"start":{"line":34,"column":11},"end":{"line":34,"column":57}},"7":{"start":{"line":36,"column":15},"end":{"line":36,"column":19}},"8":{"start":{"line":37,"column":0},"end":{"line":37,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["user.model.js"],"names":["Schema","mongoose","userSchema","username","type","String","required","unique","password","accessToken","timestamps","createdAt","updatedAt","User","model"],"mappings":";;;;;;;;;AAAA;;AAEA,IAAMA,MAAM,GAAGC,qBAASD,MAAxB;AAEA,IAAME,UAAU,GAAG,IAAIF,MAAJ,CACjB;AACEG,EAAAA,QAAQ,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCC,IAAAA,MAAM,EAAE;AAAxC,GADZ;AAEEC,EAAAA,QAAQ,EAAE;AAAEJ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFZ;AAGEG,EAAAA,WAAW,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgB,eAAS;AAAzB;AAHf,CADiB,EAMjB;AACEK,EAAAA,UAAU,EAAE;AACVC,IAAAA,SAAS,EAAE,WADD;AAEVC,IAAAA,SAAS,EAAE;AAFD;AADd,CANiB,CAAnB;;AAcA,IAAMC,IAAI,GAAGZ,qBAASa,KAAT,CAAe,MAAf,EAAuBZ,UAAvB,CAAb;;eAEeW,I","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\models\\","sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst Schema = mongoose.Schema;\r\n\r\nconst userSchema = new Schema(\r\n  {\r\n    username: { type: String, required: true, unique: true },\r\n    password: { type: String, required: true },\r\n    accessToken: { type: String, default: null }\r\n  },\r\n  {\r\n    timestamps: {\r\n      createdAt: \"createdAt\",\r\n      updatedAt: \"updatedAt\",\r\n    },\r\n  },\r\n);\r\n\r\nconst User = mongoose.model(\"user\", userSchema);\r\n\r\nexport default User;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"98bb98620d5c79c4414634cb7e7fdf3612e9aebe","contentHash":"f9e020ee5f257ef22f3dc70fd469fd9cdffcc3599654263fe46fe52c05420b94"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\helpers\\hashPassword.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\helpers\\hashPassword.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":99}},"5":{"start":{"line":14,"column":16},"end":{"line":14,"column":59}},"6":{"start":{"line":16,"column":32},"end":{"line":51,"column":3}},"7":{"start":{"line":17,"column":13},"end":{"line":46,"column":5}},"8":{"start":{"line":19,"column":4},"end":{"line":45,"column":32}},"9":{"start":{"line":20,"column":6},"end":{"line":44,"column":7}},"10":{"start":{"line":21,"column":8},"end":{"line":43,"column":9}},"11":{"start":{"line":23,"column":12},"end":{"line":23,"column":30}},"12":{"start":{"line":24,"column":12},"end":{"line":24,"column":30}},"13":{"start":{"line":25,"column":12},"end":{"line":25,"column":52}},"14":{"start":{"line":28,"column":12},"end":{"line":28,"column":33}},"15":{"start":{"line":29,"column":12},"end":{"line":29,"column":30}},"16":{"start":{"line":30,"column":12},"end":{"line":30,"column":61}},"17":{"start":{"line":33,"column":12},"end":{"line":33,"column":60}},"18":{"start":{"line":36,"column":12},"end":{"line":36,"column":30}},"19":{"start":{"line":37,"column":12},"end":{"line":37,"column":47}},"20":{"start":{"line":38,"column":12},"end":{"line":38,"column":59}},"21":{"start":{"line":42,"column":12},"end":{"line":42,"column":35}},"22":{"start":{"line":48,"column":2},"end":{"line":50,"column":4}},"23":{"start":{"line":49,"column":4},"end":{"line":49,"column":39}},"24":{"start":{"line":53,"column":15},"end":{"line":53,"column":27}},"25":{"start":{"line":54,"column":0},"end":{"line":54,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":16,"column":32},"end":{"line":16,"column":33}},"loc":{"start":{"line":16,"column":44},"end":{"line":51,"column":1}},"line":16},"1":{"name":"_callee","decl":{"start":{"line":17,"column":100},"end":{"line":17,"column":107}},"loc":{"start":{"line":17,"column":118},"end":{"line":46,"column":3}},"line":17},"2":{"name":"_callee$","decl":{"start":{"line":19,"column":49},"end":{"line":19,"column":57}},"loc":{"start":{"line":19,"column":68},"end":{"line":45,"column":5}},"line":19},"3":{"name":"hashPassword","decl":{"start":{"line":48,"column":18},"end":{"line":48,"column":30}},"loc":{"start":{"line":48,"column":35},"end":{"line":50,"column":3}},"line":48}},"branchMap":{"0":{"loc":{"start":{"line":21,"column":8},"end":{"line":43,"column":9}},"type":"switch","locations":[{"start":{"line":22,"column":10},"end":{"line":25,"column":52}},{"start":{"line":27,"column":10},"end":{"line":30,"column":61}},{"start":{"line":32,"column":10},"end":{"line":33,"column":60}},{"start":{"line":35,"column":10},"end":{"line":38,"column":59}},{"start":{"line":40,"column":10},"end":{"line":40,"column":18}},{"start":{"line":41,"column":10},"end":{"line":42,"column":35}}],"line":21}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":4,"10":4,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":1,"22":1,"23":1,"24":1,"25":1},"f":{"0":1,"1":1,"2":4,"3":1},"b":{"0":[1,1,1,0,0,1]},"inputSourceMap":{"version":3,"sources":["hashPassword.js"],"names":["hashPassword","password","bcrypt","genSalt","salt","hash","Error"],"mappings":";;;;;;;;;;;;;AAAA;;AAEA,IAAMA,YAAY;AAAA,2FAAG,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEEC,qBAAOC,OAAP,CAAe,EAAf,CAFF;;AAAA;AAEXC,YAAAA,IAFW;AAAA;AAAA,mBAGJF,qBAAOG,IAAP,CAAYJ,QAAZ,EAAsBG,IAAtB,CAHI;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,kBAKX,IAAIE,KAAJ,CAAU,gBAAV,cALW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAZN,YAAY;AAAA;AAAA;AAAA,GAAlB;;eASeA,Y","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\helpers\\","sourcesContent":["import bcrypt from \"bcryptjs\";\r\n\r\nconst hashPassword = async (password) => {\r\n  try {\r\n    const salt = await bcrypt.genSalt(10);\r\n    return await bcrypt.hash(password, salt);\r\n  } catch (error) {\r\n    throw new Error(\"Hashing failed\", error);\r\n  }\r\n};\r\n\r\nexport default hashPassword;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7cf60c1154b259e2e9a22d06e40ec900b92e7af8","contentHash":"6fe7961bf93e254ca2b6413b6aac85962ef9997eabf6d3eb99cc642c05d7a553"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\helpers\\comparePasswords.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\helpers\\comparePasswords.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":99}},"5":{"start":{"line":14,"column":16},"end":{"line":14,"column":59}},"6":{"start":{"line":16,"column":36},"end":{"line":45,"column":3}},"7":{"start":{"line":17,"column":13},"end":{"line":40,"column":5}},"8":{"start":{"line":18,"column":4},"end":{"line":39,"column":32}},"9":{"start":{"line":19,"column":6},"end":{"line":38,"column":7}},"10":{"start":{"line":20,"column":8},"end":{"line":37,"column":9}},"11":{"start":{"line":22,"column":12},"end":{"line":22,"column":30}},"12":{"start":{"line":23,"column":12},"end":{"line":23,"column":30}},"13":{"start":{"line":24,"column":12},"end":{"line":24,"column":79}},"14":{"start":{"line":27,"column":12},"end":{"line":27,"column":60}},"15":{"start":{"line":30,"column":12},"end":{"line":30,"column":30}},"16":{"start":{"line":31,"column":12},"end":{"line":31,"column":47}},"17":{"start":{"line":32,"column":12},"end":{"line":32,"column":62}},"18":{"start":{"line":36,"column":12},"end":{"line":36,"column":35}},"19":{"start":{"line":42,"column":2},"end":{"line":44,"column":4}},"20":{"start":{"line":43,"column":4},"end":{"line":43,"column":39}},"21":{"start":{"line":47,"column":15},"end":{"line":47,"column":31}},"22":{"start":{"line":48,"column":0},"end":{"line":48,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":16,"column":36},"end":{"line":16,"column":37}},"loc":{"start":{"line":16,"column":48},"end":{"line":45,"column":1}},"line":16},"1":{"name":"_callee","decl":{"start":{"line":17,"column":100},"end":{"line":17,"column":107}},"loc":{"start":{"line":17,"column":139},"end":{"line":40,"column":3}},"line":17},"2":{"name":"_callee$","decl":{"start":{"line":18,"column":49},"end":{"line":18,"column":57}},"loc":{"start":{"line":18,"column":68},"end":{"line":39,"column":5}},"line":18},"3":{"name":"comparePasswords","decl":{"start":{"line":42,"column":18},"end":{"line":42,"column":34}},"loc":{"start":{"line":42,"column":44},"end":{"line":44,"column":3}},"line":42}},"branchMap":{"0":{"loc":{"start":{"line":20,"column":8},"end":{"line":37,"column":9}},"type":"switch","locations":[{"start":{"line":21,"column":10},"end":{"line":24,"column":79}},{"start":{"line":26,"column":10},"end":{"line":27,"column":60}},{"start":{"line":29,"column":10},"end":{"line":32,"column":62}},{"start":{"line":34,"column":10},"end":{"line":34,"column":17}},{"start":{"line":35,"column":10},"end":{"line":36,"column":35}}],"line":20}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":6,"10":6,"11":2,"12":2,"13":2,"14":2,"15":0,"16":0,"17":0,"18":2,"19":1,"20":2,"21":1,"22":1},"f":{"0":1,"1":2,"2":6,"3":2},"b":{"0":[2,2,0,0,2]},"inputSourceMap":{"version":3,"sources":["comparePasswords.js"],"names":["comparePasswords","inputPassword","hashedPassword","bcrypt","compare","Error"],"mappings":";;;;;;;;;;;;;AAAA;;AAEA,IAAMA,gBAAgB;AAAA,2FAAG,iBAAOC,aAAP,EAAsBC,cAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAERC,qBAAOC,OAAP,CAAeH,aAAf,EAA8BC,cAA9B,CAFQ;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,kBAIf,IAAIG,KAAJ,CAAU,mBAAV,cAJe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAhBL,gBAAgB;AAAA;AAAA;AAAA,GAAtB;;eAQeA,gB","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\helpers\\","sourcesContent":["import bcrypt from \"bcryptjs\";\r\n\r\nconst comparePasswords = async (inputPassword, hashedPassword) => {\r\n  try {\r\n    return await bcrypt.compare(inputPassword, hashedPassword);\r\n  } catch (error) {\r\n    throw new Error(\"Comparison failed\", error);\r\n  }\r\n};\r\n\r\nexport default comparePasswords;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2a2e0b6d390c346dc148a18e52af03e2d41dd625","contentHash":"e89da36b3d31c6ab6e4bc2d177d380f763ce1caa1a7694d2a9dc035a8ed7c6f9"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\middlewares\\generateJWT.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\middlewares\\generateJWT.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":99}},"5":{"start":{"line":14,"column":20},"end":{"line":14,"column":67}},"6":{"start":{"line":16,"column":14},"end":{"line":16,"column":55}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":28}},"8":{"start":{"line":20,"column":14},"end":{"line":22,"column":1}},"9":{"start":{"line":25,"column":2},"end":{"line":25,"column":45}},"10":{"start":{"line":29,"column":2},"end":{"line":62,"column":6}},"11":{"start":{"line":31,"column":4},"end":{"line":61,"column":32}},"12":{"start":{"line":32,"column":6},"end":{"line":60,"column":7}},"13":{"start":{"line":33,"column":8},"end":{"line":59,"column":9}},"14":{"start":{"line":35,"column":12},"end":{"line":35,"column":30}},"15":{"start":{"line":36,"column":12},"end":{"line":38,"column":14}},"16":{"start":{"line":39,"column":12},"end":{"line":39,"column":30}},"17":{"start":{"line":40,"column":12},"end":{"line":40,"column":86}},"18":{"start":{"line":43,"column":12},"end":{"line":43,"column":34}},"19":{"start":{"line":44,"column":12},"end":{"line":47,"column":15}},"20":{"start":{"line":50,"column":12},"end":{"line":50,"column":30}},"21":{"start":{"line":51,"column":12},"end":{"line":51,"column":47}},"22":{"start":{"line":52,"column":12},"end":{"line":54,"column":15}},"23":{"start":{"line":58,"column":12},"end":{"line":58,"column":35}},"24":{"start":{"line":63,"column":2},"end":{"line":63,"column":45}},"25":{"start":{"line":66,"column":15},"end":{"line":66,"column":26}},"26":{"start":{"line":67,"column":0},"end":{"line":67,"column":30}}},"fnMap":{"0":{"name":"generateJWT","decl":{"start":{"line":24,"column":9},"end":{"line":24,"column":20}},"loc":{"start":{"line":24,"column":25},"end":{"line":26,"column":1}},"line":24},"1":{"name":"_generateJWT","decl":{"start":{"line":28,"column":9},"end":{"line":28,"column":21}},"loc":{"start":{"line":28,"column":24},"end":{"line":64,"column":1}},"line":28},"2":{"name":"_callee","decl":{"start":{"line":29,"column":104},"end":{"line":29,"column":111}},"loc":{"start":{"line":29,"column":122},"end":{"line":62,"column":3}},"line":29},"3":{"name":"_callee$","decl":{"start":{"line":31,"column":49},"end":{"line":31,"column":57}},"loc":{"start":{"line":31,"column":68},"end":{"line":61,"column":5}},"line":31}},"branchMap":{"0":{"loc":{"start":{"line":33,"column":8},"end":{"line":59,"column":9}},"type":"switch","locations":[{"start":{"line":34,"column":10},"end":{"line":40,"column":86}},{"start":{"line":42,"column":10},"end":{"line":47,"column":15}},{"start":{"line":49,"column":10},"end":{"line":54,"column":15}},{"start":{"line":56,"column":10},"end":{"line":56,"column":18}},{"start":{"line":57,"column":10},"end":{"line":58,"column":35}}],"line":33}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":3,"13":3,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":0,"21":0,"22":0,"23":1,"24":1,"25":1,"26":1},"f":{"0":1,"1":1,"2":1,"3":3},"b":{"0":[1,1,0,0,1]},"inputSourceMap":{"version":3,"sources":["generateJWT.js"],"names":["dotenv","config","options","expiresIn","generateJWT","username","payload","jwt","sign","process","env","JWT_SECRET","token","error"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACAA,mBAAOC,MAAP;;AAEA,IAAMC,OAAO,GAAG;AACdC,EAAAA,SAAS,EAAE;AADG,CAAhB;;SAIeC,W;;;;;+FAAf,iBAA2BC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEUC,YAAAA,OAFV,GAEoB;AAAED,cAAAA,QAAQ,EAARA;AAAF,aAFpB;AAAA;AAAA,mBAGwBE,yBAAIC,IAAJ,CAASF,OAAT,EAAkBG,OAAO,CAACC,GAAR,CAAYC,UAA9B,EAA0C,EAA1C,CAHxB;;AAAA;AAGUC,YAAAA,KAHV;AAAA,6CAIW;AAAEC,cAAAA,KAAK,EAAE,KAAT;AAAgBD,cAAAA,KAAK,EAALA;AAAhB,aAJX;;AAAA;AAAA;AAAA;AAAA,6CAMW;AAAEC,cAAAA,KAAK,EAAE;AAAT,aANX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;eAUeT,W","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\middlewares\\","sourcesContent":["import jwt from \"jsonwebtoken\";\r\nimport dotenv from \"dotenv\";\r\ndotenv.config();\r\n\r\nconst options = {\r\n  expiresIn: \"24h\",\r\n};\r\n\r\nasync function generateJWT(username) {\r\n  try {\r\n    const payload = { username };\r\n    const token = await jwt.sign(payload, process.env.JWT_SECRET, {});\r\n    return { error: false, token };\r\n  } catch (error) {\r\n    return { error: true };\r\n  }\r\n}\r\n\r\nexport default generateJWT;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3b1145e34cec3ae27f8b03809f414cb6789bc818","contentHash":"5b5cc00e090c6dd72a40746bc198dad032888b0591337a7e164e72e40e24a422"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\middlewares\\validation.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\middlewares\\validation.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":62}},"3":{"start":{"line":10,"column":11},"end":{"line":10,"column":55}},"4":{"start":{"line":15,"column":25},"end":{"line":23,"column":1}},"5":{"start":{"line":16,"column":15},"end":{"line":20,"column":4}},"6":{"start":{"line":22,"column":2},"end":{"line":22,"column":31}},"7":{"start":{"line":25,"column":0},"end":{"line":25,"column":48}},"8":{"start":{"line":27,"column":22},"end":{"line":34,"column":1}},"9":{"start":{"line":28,"column":15},"end":{"line":31,"column":4}},"10":{"start":{"line":33,"column":2},"end":{"line":33,"column":31}},"11":{"start":{"line":38,"column":0},"end":{"line":38,"column":42}}},"fnMap":{"0":{"name":"registerValidation","decl":{"start":{"line":15,"column":34},"end":{"line":15,"column":52}},"loc":{"start":{"line":15,"column":59},"end":{"line":23,"column":1}},"line":15},"1":{"name":"loginValidation","decl":{"start":{"line":27,"column":31},"end":{"line":27,"column":46}},"loc":{"start":{"line":27,"column":53},"end":{"line":34,"column":1}},"line":27}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":2,"7":1,"8":1,"9":0,"10":0,"11":1},"f":{"0":2,"1":0},"b":{},"inputSourceMap":{"version":3,"sources":["validation.js"],"names":["registerValidation","data","schema","Joi","object","name","string","min","username","required","email","password","validate","loginValidation"],"mappings":";;;;;;;;;AAGA;;AAFA;AACA;AAGA;AACO,IAAMA,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,IAAD,EAAQ;AACtC,MAAMC,MAAM,GAAGC,gBAAIC,MAAJ,CAAW;AACtBC,IAAAA,IAAI,EAAGF,gBAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,CADe;AAEtBC,IAAAA,QAAQ,EAAEL,gBAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBE,QAApB,GAA+BC,KAA/B,EAFY;AAGtBC,IAAAA,QAAQ,EAAER,gBAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBE,QAApB;AAHY,GAAX,CAAf;;AAMA,SAAOP,MAAM,CAACU,QAAP,CAAgBX,IAAhB,CAAP;AACH,CARM;;;;AAUA,IAAMY,eAAe,GAAG,SAAlBA,eAAkB,CAACZ,IAAD,EAAQ;AACnC,MAAMC,MAAM,GAAGC,gBAAIC,MAAJ,CAAW;AACtBI,IAAAA,QAAQ,EAAEL,gBAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBE,QAApB,GAA+BC,KAA/B,EADY;AAEtBC,IAAAA,QAAQ,EAAER,gBAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBE,QAApB;AAFY,GAAX,CAAf;;AAKA,SAAOP,MAAM,CAACU,QAAP,CAAgBX,IAAhB,CAAP;AACH,CAPM,C,CASP;AACA","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\middlewares\\","sourcesContent":["\r\n//VALIDATION\r\n//const Joi = require('@hapi/joi');\r\nimport Joi from '@hapi/joi'\r\n\r\n//New User validation\r\nexport const registerValidation = (data)=>{\r\n    const schema = Joi.object({\r\n        name : Joi.string().min(6),\r\n        username: Joi.string().min(6).required().email(),\r\n        password: Joi.string().min(6).required()\r\n    })\r\n\r\n    return schema.validate(data);\r\n}\r\n\r\nexport const loginValidation = (data)=>{\r\n    const schema = Joi.object({\r\n        username: Joi.string().min(6).required().email(),\r\n        password: Joi.string().min(6).required()\r\n    })\r\n\r\n    return schema.validate(data);\r\n}\r\n\r\n// module.exports.registerValidation = registerValidation\r\n// module.exports.loginValidation = loginValidation"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"307e0558fe0e4f166479ea85d679d29ff7707c2e","contentHash":"0414d7db52b37d95bc752098ef1262e661472bdac68e6076cdc8a8695c974393"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\middlewares\\cleanBody.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\middlewares\\cleanBody.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":21},"end":{"line":10,"column":70}},"4":{"start":{"line":12,"column":16},"end":{"line":23,"column":1}},"5":{"start":{"line":13,"column":2},"end":{"line":22,"column":3}},"6":{"start":{"line":14,"column":4},"end":{"line":14,"column":56}},"7":{"start":{"line":15,"column":4},"end":{"line":15,"column":11}},"8":{"start":{"line":17,"column":4},"end":{"line":17,"column":43}},"9":{"start":{"line":18,"column":4},"end":{"line":21,"column":7}},"10":{"start":{"line":25,"column":15},"end":{"line":25,"column":24}},"11":{"start":{"line":26,"column":0},"end":{"line":26,"column":30}}},"fnMap":{"0":{"name":"cleanBody","decl":{"start":{"line":12,"column":25},"end":{"line":12,"column":34}},"loc":{"start":{"line":12,"column":51},"end":{"line":23,"column":1}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":5,"6":5,"7":5,"8":0,"9":0,"10":1,"11":1},"f":{"0":5},"b":{},"inputSourceMap":{"version":3,"sources":["cleanBody.js"],"names":["cleanBody","req","res","next","body","error","console","log","status","json","message"],"mappings":";;;;;;;;;AAAA;;AAEA,IAAMA,SAAS,GAAG,SAAZA,SAAY,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACpC,MAAI;AACFF,IAAAA,GAAG,CAACG,IAAJ,GAAW,+BAASH,GAAG,CAACG,IAAb,CAAX;AACAD,IAAAA,IAAI;AACL,GAHD,CAGE,OAAOE,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCF,KAAhC;AACA,WAAOH,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BJ,MAAAA,KAAK,EAAE,IADmB;AAE1BK,MAAAA,OAAO,EAAE;AAFiB,KAArB,CAAP;AAID;AACF,CAXD;;eAaeV,S","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\middlewares\\","sourcesContent":["import sanitize from \"mongo-sanitize\";\r\n\r\nconst cleanBody = (req, res, next) => {\r\n  try {\r\n    req.body = sanitize(req.body);\r\n    next();\r\n  } catch (error) {\r\n    console.log(\"clean-body-error\", error);\r\n    return res.status(500).json({\r\n      error: true,\r\n      message: \"Could not sanitize body\",\r\n    });\r\n  }\r\n};\r\n\r\nexport default cleanBody;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"353b5e8ec7d13410944a0f314a2b643c9a658854","contentHash":"4a7d669d7b465d88910ad7e08429c9032259d3d8b90dbe3816336da470ec9f8b"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\middlewares\\validateToken.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\middlewares\\validateToken.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":99}},"5":{"start":{"line":14,"column":20},"end":{"line":14,"column":67}},"6":{"start":{"line":16,"column":14},"end":{"line":16,"column":55}},"7":{"start":{"line":18,"column":17},"end":{"line":18,"column":75}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":28}},"9":{"start":{"line":23,"column":2},"end":{"line":23,"column":47}},"10":{"start":{"line":27,"column":2},"end":{"line":119,"column":6}},"11":{"start":{"line":29,"column":4},"end":{"line":118,"column":33}},"12":{"start":{"line":30,"column":6},"end":{"line":117,"column":7}},"13":{"start":{"line":31,"column":8},"end":{"line":116,"column":9}},"14":{"start":{"line":33,"column":12},"end":{"line":33,"column":59}},"15":{"start":{"line":35,"column":12},"end":{"line":38,"column":13}},"16":{"start":{"line":36,"column":14},"end":{"line":36,"column":32}},"17":{"start":{"line":37,"column":14},"end":{"line":37,"column":20}},"18":{"start":{"line":40,"column":12},"end":{"line":43,"column":16}},"19":{"start":{"line":46,"column":12},"end":{"line":46,"column":60}},"20":{"start":{"line":47,"column":12},"end":{"line":49,"column":14}},"21":{"start":{"line":50,"column":12},"end":{"line":50,"column":30}},"22":{"start":{"line":51,"column":12},"end":{"line":51,"column":30}},"23":{"start":{"line":52,"column":12},"end":{"line":54,"column":15}},"24":{"start":{"line":57,"column":12},"end":{"line":57,"column":33}},"25":{"start":{"line":59,"column":12},"end":{"line":62,"column":13}},"26":{"start":{"line":60,"column":14},"end":{"line":60,"column":33}},"27":{"start":{"line":61,"column":14},"end":{"line":61,"column":20}},"28":{"start":{"line":64,"column":12},"end":{"line":68,"column":14}},"29":{"start":{"line":69,"column":12},"end":{"line":69,"column":75}},"30":{"start":{"line":72,"column":12},"end":{"line":72,"column":93}},"31":{"start":{"line":74,"column":12},"end":{"line":77,"column":13}},"32":{"start":{"line":75,"column":14},"end":{"line":75,"column":33}},"33":{"start":{"line":76,"column":14},"end":{"line":76,"column":20}},"34":{"start":{"line":79,"column":12},"end":{"line":82,"column":14}},"35":{"start":{"line":83,"column":12},"end":{"line":83,"column":75}},"36":{"start":{"line":86,"column":12},"end":{"line":86,"column":33}},"37":{"start":{"line":87,"column":12},"end":{"line":87,"column":19}},"38":{"start":{"line":88,"column":12},"end":{"line":88,"column":31}},"39":{"start":{"line":89,"column":12},"end":{"line":89,"column":18}},"40":{"start":{"line":92,"column":12},"end":{"line":92,"column":31}},"41":{"start":{"line":93,"column":12},"end":{"line":93,"column":47}},"42":{"start":{"line":94,"column":12},"end":{"line":94,"column":59}},"43":{"start":{"line":96,"column":12},"end":{"line":99,"column":13}},"44":{"start":{"line":97,"column":14},"end":{"line":97,"column":33}},"45":{"start":{"line":98,"column":14},"end":{"line":98,"column":20}},"46":{"start":{"line":101,"column":12},"end":{"line":104,"column":16}},"47":{"start":{"line":107,"column":12},"end":{"line":111,"column":16}},"48":{"start":{"line":115,"column":12},"end":{"line":115,"column":35}},"49":{"start":{"line":120,"column":2},"end":{"line":120,"column":47}},"50":{"start":{"line":123,"column":15},"end":{"line":123,"column":28}},"51":{"start":{"line":124,"column":0},"end":{"line":124,"column":30}}},"fnMap":{"0":{"name":"validateToken","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":22}},"loc":{"start":{"line":22,"column":37},"end":{"line":24,"column":1}},"line":22},"1":{"name":"_validateToken","decl":{"start":{"line":26,"column":9},"end":{"line":26,"column":23}},"loc":{"start":{"line":26,"column":26},"end":{"line":121,"column":1}},"line":26},"2":{"name":"_callee","decl":{"start":{"line":27,"column":106},"end":{"line":27,"column":113}},"loc":{"start":{"line":27,"column":130},"end":{"line":119,"column":3}},"line":27},"3":{"name":"_callee$","decl":{"start":{"line":29,"column":49},"end":{"line":29,"column":57}},"loc":{"start":{"line":29,"column":68},"end":{"line":118,"column":5}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":31,"column":8},"end":{"line":116,"column":9}},"type":"switch","locations":[{"start":{"line":32,"column":10},"end":{"line":43,"column":16}},{"start":{"line":45,"column":10},"end":{"line":54,"column":15}},{"start":{"line":56,"column":10},"end":{"line":69,"column":75}},{"start":{"line":71,"column":10},"end":{"line":83,"column":75}},{"start":{"line":85,"column":10},"end":{"line":89,"column":18}},{"start":{"line":91,"column":10},"end":{"line":104,"column":16}},{"start":{"line":106,"column":10},"end":{"line":111,"column":16}},{"start":{"line":113,"column":10},"end":{"line":113,"column":18}},{"start":{"line":114,"column":10},"end":{"line":115,"column":35}}],"line":31},"1":{"loc":{"start":{"line":35,"column":12},"end":{"line":38,"column":13}},"type":"if","locations":[{"start":{"line":35,"column":12},"end":{"line":38,"column":13}},{"start":{"line":35,"column":12},"end":{"line":38,"column":13}}],"line":35},"2":{"loc":{"start":{"line":59,"column":12},"end":{"line":62,"column":13}},"type":"if","locations":[{"start":{"line":59,"column":12},"end":{"line":62,"column":13}},{"start":{"line":59,"column":12},"end":{"line":62,"column":13}}],"line":59},"3":{"loc":{"start":{"line":74,"column":12},"end":{"line":77,"column":13}},"type":"if","locations":[{"start":{"line":74,"column":12},"end":{"line":77,"column":13}},{"start":{"line":74,"column":12},"end":{"line":77,"column":13}}],"line":74},"4":{"loc":{"start":{"line":96,"column":12},"end":{"line":99,"column":13}},"type":"if","locations":[{"start":{"line":96,"column":12},"end":{"line":99,"column":13}},{"start":{"line":96,"column":12},"end":{"line":99,"column":13}}],"line":96}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":3,"10":1,"11":3,"12":6,"13":14,"14":3,"15":3,"16":2,"17":2,"18":1,"19":2,"20":2,"21":2,"22":2,"23":2,"24":2,"25":2,"26":2,"27":2,"28":0,"29":0,"30":2,"31":2,"32":2,"33":2,"34":0,"35":0,"36":2,"37":2,"38":2,"39":2,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":3,"49":1,"50":1,"51":1},"f":{"0":3,"1":1,"2":3,"3":6},"b":{"0":[3,2,2,2,2,0,0,2,3],"1":[2,1],"2":[2,0],"3":[2,0],"4":[0,0]},"inputSourceMap":{"version":3,"sources":["validateToken.js"],"names":["dotenv","config","validateToken","req","res","next","auhorizationHeader","headers","authorization","status","json","error","message","token","split","options","expiresIn","User","findOne","accessToken","user","result","token1","jwt","verify","process","env","JWT_SECRET","username","decoded","console","name"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AAGA;;AAFAA,mBAAOC,MAAP;;SAIeC,a;;;;;iGAAf,iBAA6BC,GAA7B,EAAkCC,GAAlC,EAAuCC,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,YAAAA,kBADR,GAC6BH,GAAG,CAACI,OAAJ,CAAYC,aADzC;;AAAA,gBAIOF,kBAJP;AAAA;AAAA;AAAA;;AAAA,6CAKWF,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,cAAAA,KAAK,EAAE,IADmB;AAE1BC,cAAAA,OAAO,EAAE;AAFiB,aAArB,CALX;;AAAA;AAWQC,YAAAA,KAXR,GAWgBV,GAAG,CAACI,OAAJ,CAAYC,aAAZ,CAA0BM,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAXhB;AAaQC,YAAAA,OAbR,GAakB;AACdC,cAAAA,SAAS,EAAE;AADG,aAblB;AAAA;AAAA;AAAA,mBAkBqBC,sBAAKC,OAAL,CAAa;AAC5BC,cAAAA,WAAW,EAAEN;AADe,aAAb,CAlBrB;;AAAA;AAkBQO,YAAAA,IAlBR;;AAAA,gBAsBSA,IAtBT;AAAA;AAAA;AAAA;;AAuBMC,YAAAA,MAAM,GAAG;AACPV,cAAAA,KAAK,EAAE,IADA;AAEPC,cAAAA,OAAO,EAAE,qBAFF;AAGPU,cAAAA,MAAM,EAAET;AAHD,aAAT;AAvBN,6CA6BaT,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBW,MAArB,CA7Bb;;AAAA;AAgCIA,YAAAA,MAAM,GAAGE,yBAAIC,MAAJ,CAAWX,KAAX,EAAkBY,OAAO,CAACC,GAAR,CAAYC,UAA9B,EAA0CZ,OAA1C,CAAT;;AAhCJ,kBAkCQ,CAACK,IAAI,CAACQ,QAAN,KAAmBP,MAAM,CAACO,QAlClC;AAAA;AAAA;AAAA;;AAmCMP,YAAAA,MAAM,GAAG;AACPV,cAAAA,KAAK,EAAE,IADA;AAEPC,cAAAA,OAAO,EAAE;AAFF,aAAT;AAnCN,6CAwCaR,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBW,MAArB,CAxCb;;AAAA;AA2CIlB,YAAAA,GAAG,CAAC0B,OAAJ,GAAcR,MAAd;AAEAhB,YAAAA,IAAI;AA7CR;AAAA;;AAAA;AAAA;AAAA;AA+CIyB,YAAAA,OAAO,CAACnB,KAAR,CAAc,kBAAd;;AA/CJ,kBAiDQ,YAAMoB,IAAN,KAAe,mBAjDvB;AAAA;AAAA;AAAA;;AAAA,6CAkDa3B,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,cAAAA,KAAK,EAAE,IADmB;AAE1BC,cAAAA,OAAO,EAAE;AAFiB,aAArB,CAlDb;;AAAA;AAAA,6CAwDWR,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,cAAAA,KAAK,EAAE,IADmB;AAE1BC,cAAAA,OAAO,EAAE,uBAFiB;AAG1BU,cAAAA,MAAM,EAAEhB;AAHkB,aAArB,CAxDX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;eAgEeJ,a","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\middlewares\\","sourcesContent":["import jwt from \"jsonwebtoken\";\r\nimport dotenv from \"dotenv\";\r\ndotenv.config();\r\n\r\nimport User from \"../models/user.model.js\";\r\n\r\nasync function validateToken(req, res, next) {\r\n  const auhorizationHeader = req.headers.authorization;\r\n  let result;\r\n\r\n  if (!auhorizationHeader) {\r\n    return res.status(401).json({\r\n      error: true,\r\n      message: \"Access token is missing\",\r\n    });\r\n  }\r\n\r\n  const token = req.headers.authorization.split(\" \")[1];\r\n\r\n  const options = {\r\n    expiresIn: \"24h\",\r\n  };\r\n\r\n  try {\r\n    let user = await User.findOne({\r\n      accessToken: token,\r\n    });\r\n\r\n    if (!user) {\r\n      result = {\r\n        error: true,\r\n        message: \"Authorization error\",\r\n        token1: token,\r\n      };\r\n\r\n      return res.status(403).json(result);\r\n    }\r\n\r\n    result = jwt.verify(token, process.env.JWT_SECRET, options);\r\n\r\n    if (!user.username === result.username) {\r\n      result = {\r\n        error: true,\r\n        message: \"Invalid token\",\r\n      };\r\n\r\n      return res.status(401).json(result);\r\n    }\r\n\r\n    req.decoded = result;\r\n\r\n    next();\r\n  } catch (error) {\r\n    console.error('error...........',error);\r\n\r\n    if (error.name === \"TokenExpiredError\") {\r\n      return res.status(403).json({\r\n        error: true,\r\n        message: \"Token expired\",\r\n      });\r\n    }\r\n\r\n    return res.status(403).json({\r\n      error: true,\r\n      message: \"Authentication error.\",\r\n      token1: auhorizationHeader,\r\n    });\r\n  }\r\n}\r\n\r\nexport default validateToken;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9a291864a01a549990b78b047a32516456a17611","contentHash":"46a01fd9a71167f9fb9f64999a6f0f0573bbcd99c8542f8685fee1b635f704d3"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\routes\\articlesRouter.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\routes\\articlesRouter.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":26},"end":{"line":12,"column":94}},"5":{"start":{"line":14,"column":21},"end":{"line":14,"column":87}},"6":{"start":{"line":16,"column":21},"end":{"line":16,"column":49}},"7":{"start":{"line":18,"column":15},"end":{"line":18,"column":51}},"8":{"start":{"line":49,"column":0},"end":{"line":49,"column":49}},"9":{"start":{"line":83,"column":0},"end":{"line":83,"column":76}},"10":{"start":{"line":106,"column":0},"end":{"line":106,"column":58}},"11":{"start":{"line":131,"column":0},"end":{"line":131,"column":94}},"12":{"start":{"line":171,"column":0},"end":{"line":171,"column":90}},"13":{"start":{"line":172,"column":15},"end":{"line":172,"column":29}},"14":{"start":{"line":173,"column":0},"end":{"line":173,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["articlesRouter.js"],"names":["articlesRouter","express","Router","articles","ArticlesController","get","getAllArticles","post","validateToken","addOneArticle","getOneArticle","deleteOneArticle","patch","updateOneArticle"],"mappings":";;;;;;;;;AAAA;;AACA;;AAGA;;AAFA,IAAMA,cAAc,GAAGC,oBAAQC,MAAR,EAAvB;;AAIA,IAAMC,QAAQ,GAAG,IAAIC,8BAAJ,EAAjB,C,CAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAECJ,cAAc,CAACK,GAAf,CAAmB,GAAnB,EAAwBF,QAAQ,CAACG,cAAjC,E,CAGA;;AACA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEEN,cAAc,CAACO,IAAf,CAAoB,GAApB,EAAyBC,yBAAzB,EAAwCL,QAAQ,CAACM,aAAjD,E,CAED;;AACA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGET,cAAc,CAACK,GAAf,CAAmB,aAAnB,EAAkCF,QAAQ,CAACO,aAA3C,E,CAED;;AACA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEEV,cAAc,UAAd,CAAsB,aAAtB,EAAqCQ,yBAArC,EAAoDL,QAAQ,CAACQ,gBAA7D,E,CAGD;;AACA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC;;AACAX,cAAc,CAACY,KAAf,CAAqB,aAArB,EAAoCJ,yBAApC,EAAmDL,QAAQ,CAACU,gBAA5D;eAGeb,c","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\routes\\","sourcesContent":["import express from \"express\";\r\nimport ArticlesController from \"../controllers/ArticlesController\";\r\nconst articlesRouter = express.Router();\r\n\r\nimport validateToken from \"../middlewares/validateToken.js\";\r\n\r\nconst articles = new ArticlesController();\r\n\r\n//Get all Articles\r\n\r\n/**\r\n * @openapi\r\n * '/articles':\r\n *  get:\r\n *     tags:\r\n *     - Article\r\n *     summary: Get all Articles\r\n *     responses:\r\n *       200:\r\n *         description: Success\r\n *         content:\r\n *          application/json:\r\n *            schema:\r\n *              type: array\r\n *              items:\r\n *                type: object\r\n *                properties:\r\n *                  id:\r\n *                    type: number\r\n *                  createdBy:\r\n *                    type: string\r\n *                  title:\r\n *                     type: string\r\n *                  body:\r\n *                      type: string\r\n *       400:\r\n *         description: Bad request\r\n */\r\n\r\n articlesRouter.get('/', articles.getAllArticles);\r\n\r\n\r\n // Add a article\r\n /**\r\n  * @openapi\r\n  * '/articles':\r\n  *  post:\r\n  *     tags:\r\n  *     - Article\r\n  *     summary: Add Article\r\n  *     requestBody:\r\n  *      required: true\r\n  *      content:\r\n  *        application/json:\r\n  *           schema:\r\n  *            type: object\r\n  *            required:\r\n  *              - title\r\n  *              - body\r\n  *            properties:\r\n  *              title:\r\n  *                type: string\r\n  *                default: The tile of articlr\r\n  *              body:\r\n  *                type: string\r\n  *                default: The body of article\r\n  *     responses:\r\n  *      201:\r\n  *        description: Created\r\n  *      409:\r\n  *        description: Conflict\r\n  *      404:\r\n  *        description: Not Found\r\n  */\r\n \r\n  articlesRouter.post('/', validateToken, articles.addOneArticle);\r\n \r\n // Get a specific article\r\n /**\r\n  * @openapi\r\n  * '/articles/{articleId}':\r\n  *  get:\r\n  *     tags:\r\n  *     - Article\r\n  *     summary: Get a specific article\r\n  *     parameters:\r\n  *      - name: articleId\r\n  *        in: path\r\n  *        description: The unique id of the article\r\n  *        required: true\r\n  *     responses:\r\n  *      200:\r\n  *        description: Removed\r\n  *      400:\r\n  *        description: Bad request\r\n  *      404:\r\n  *        description: Not Found\r\n  */\r\n \r\n \r\n  articlesRouter.get('/:articleId', articles.getOneArticle)\r\n \r\n //delete a specific article\r\n /**\r\n  * @openapi\r\n  * '/articles/{articleId}':\r\n  *  delete:\r\n  *     tags:\r\n  *     - Article\r\n  *     summary: Delete a specific article\r\n  *     parameters:\r\n  *      - name: articleId\r\n  *        in: path\r\n  *        description: The unique id of the article\r\n  *        required: true\r\n  *     security:\r\n  *     - Bearer : []\r\n  *     responses:\r\n  *      200:\r\n  *        description: Removed\r\n  *      400:\r\n  *        description: Bad request\r\n  *      404:\r\n  *        description: Not Found\r\n  */\r\n \r\n  articlesRouter.delete('/:articleId', validateToken, articles.deleteOneArticle)\r\n \r\n \r\n //update a specific article\r\n /**\r\n  * @openapi\r\n  * '/articles/:articleId':\r\n  *  patch:\r\n  *     tags:\r\n  *     - Article\r\n  *     summary: Modify an Article\r\n  *     parameters:\r\n  *      - name: articleId\r\n  *        in: path\r\n  *        description: The unique id of the article\r\n  *        required: true\r\n  *     requestBody:\r\n  *      required: true\r\n  *      content:\r\n  *        application/json:\r\n  *           schema:\r\n  *            type: object\r\n  *            required:\r\n  *              - title\r\n  *              - body\r\n  *            properties:\r\n  *              title:\r\n  *                type: string\r\n  *                default: your title\r\n  *              body:\r\n  *                type: string\r\n  *                default: your body\r\n  *     responses:\r\n  *      200:\r\n  *        description: Modified\r\n  *      400:\r\n  *        description: Bad Request\r\n  *      404:\r\n  *        description: Not Found\r\n  */\r\n //update a specific article\r\n articlesRouter.patch('/:articleId', validateToken, articles.updateOneArticle )\r\n \r\n\r\n export default articlesRouter;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7716a266bc326b3af17e30a1d6bcd8cfe8d66e97","contentHash":"adff382242a6ea1742a11408ea2397dac5e109ac72a8e3ff4ff1526553c6a563"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\ArticlesController.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\ArticlesController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":99}},"5":{"start":{"line":14,"column":23},"end":{"line":14,"column":95}},"6":{"start":{"line":16,"column":20},"end":{"line":16,"column":89}},"7":{"start":{"line":18,"column":15},"end":{"line":18,"column":73}},"8":{"start":{"line":21,"column":38},"end":{"line":247,"column":3}},"9":{"start":{"line":23,"column":4},"end":{"line":23,"column":63}},"10":{"start":{"line":26,"column":2},"end":{"line":245,"column":6}},"11":{"start":{"line":30,"column":28},"end":{"line":60,"column":9}},"12":{"start":{"line":32,"column":8},"end":{"line":59,"column":36}},"13":{"start":{"line":33,"column":10},"end":{"line":58,"column":11}},"14":{"start":{"line":34,"column":12},"end":{"line":57,"column":13}},"15":{"start":{"line":36,"column":16},"end":{"line":36,"column":34}},"16":{"start":{"line":37,"column":16},"end":{"line":37,"column":34}},"17":{"start":{"line":38,"column":16},"end":{"line":38,"column":50}},"18":{"start":{"line":41,"column":16},"end":{"line":41,"column":40}},"19":{"start":{"line":42,"column":16},"end":{"line":42,"column":34}},"20":{"start":{"line":43,"column":16},"end":{"line":43,"column":35}},"21":{"start":{"line":44,"column":16},"end":{"line":44,"column":22}},"22":{"start":{"line":47,"column":16},"end":{"line":47,"column":34}},"23":{"start":{"line":48,"column":16},"end":{"line":48,"column":51}},"24":{"start":{"line":49,"column":16},"end":{"line":51,"column":19}},"25":{"start":{"line":52,"column":16},"end":{"line":52,"column":41}},"26":{"start":{"line":56,"column":16},"end":{"line":56,"column":39}},"27":{"start":{"line":63,"column":8},"end":{"line":63,"column":54}},"28":{"start":{"line":66,"column":6},"end":{"line":66,"column":28}},"29":{"start":{"line":72,"column":27},"end":{"line":106,"column":9}},"30":{"start":{"line":74,"column":8},"end":{"line":105,"column":37}},"31":{"start":{"line":75,"column":10},"end":{"line":104,"column":11}},"32":{"start":{"line":76,"column":12},"end":{"line":103,"column":13}},"33":{"start":{"line":78,"column":16},"end":{"line":82,"column":19}},"34":{"start":{"line":83,"column":16},"end":{"line":83,"column":35}},"35":{"start":{"line":84,"column":16},"end":{"line":84,"column":35}},"36":{"start":{"line":85,"column":16},"end":{"line":85,"column":38}},"37":{"start":{"line":88,"column":16},"end":{"line":88,"column":45}},"38":{"start":{"line":89,"column":16},"end":{"line":89,"column":38}},"39":{"start":{"line":90,"column":16},"end":{"line":90,"column":36}},"40":{"start":{"line":91,"column":16},"end":{"line":91,"column":22}},"41":{"start":{"line":94,"column":16},"end":{"line":94,"column":35}},"42":{"start":{"line":95,"column":16},"end":{"line":95,"column":53}},"43":{"start":{"line":96,"column":16},"end":{"line":98,"column":19}},"44":{"start":{"line":102,"column":16},"end":{"line":102,"column":40}},"45":{"start":{"line":109,"column":8},"end":{"line":109,"column":53}},"46":{"start":{"line":112,"column":6},"end":{"line":112,"column":27}},"47":{"start":{"line":118,"column":27},"end":{"line":147,"column":9}},"48":{"start":{"line":120,"column":8},"end":{"line":146,"column":37}},"49":{"start":{"line":121,"column":10},"end":{"line":145,"column":11}},"50":{"start":{"line":122,"column":12},"end":{"line":144,"column":13}},"51":{"start":{"line":124,"column":16},"end":{"line":124,"column":35}},"52":{"start":{"line":125,"column":16},"end":{"line":125,"column":35}},"53":{"start":{"line":126,"column":16},"end":{"line":126,"column":74}},"54":{"start":{"line":129,"column":16},"end":{"line":129,"column":41}},"55":{"start":{"line":130,"column":16},"end":{"line":130,"column":34}},"56":{"start":{"line":131,"column":16},"end":{"line":131,"column":36}},"57":{"start":{"line":132,"column":16},"end":{"line":132,"column":22}},"58":{"start":{"line":135,"column":16},"end":{"line":135,"column":35}},"59":{"start":{"line":136,"column":16},"end":{"line":136,"column":53}},"60":{"start":{"line":137,"column":16},"end":{"line":139,"column":19}},"61":{"start":{"line":143,"column":16},"end":{"line":143,"column":40}},"62":{"start":{"line":150,"column":8},"end":{"line":150,"column":53}},"63":{"start":{"line":153,"column":6},"end":{"line":153,"column":27}},"64":{"start":{"line":159,"column":30},"end":{"line":190,"column":9}},"65":{"start":{"line":161,"column":8},"end":{"line":189,"column":37}},"66":{"start":{"line":162,"column":10},"end":{"line":188,"column":11}},"67":{"start":{"line":163,"column":12},"end":{"line":187,"column":13}},"68":{"start":{"line":165,"column":16},"end":{"line":165,"column":35}},"69":{"start":{"line":166,"column":16},"end":{"line":166,"column":35}},"70":{"start":{"line":167,"column":16},"end":{"line":169,"column":19}},"71":{"start":{"line":172,"column":16},"end":{"line":172,"column":48}},"72":{"start":{"line":173,"column":16},"end":{"line":173,"column":41}},"73":{"start":{"line":174,"column":16},"end":{"line":174,"column":36}},"74":{"start":{"line":175,"column":16},"end":{"line":175,"column":22}},"75":{"start":{"line":178,"column":16},"end":{"line":178,"column":35}},"76":{"start":{"line":179,"column":16},"end":{"line":179,"column":53}},"77":{"start":{"line":180,"column":16},"end":{"line":182,"column":19}},"78":{"start":{"line":186,"column":16},"end":{"line":186,"column":40}},"79":{"start":{"line":193,"column":8},"end":{"line":193,"column":56}},"80":{"start":{"line":196,"column":6},"end":{"line":196,"column":30}},"81":{"start":{"line":202,"column":30},"end":{"line":237,"column":9}},"82":{"start":{"line":204,"column":8},"end":{"line":236,"column":37}},"83":{"start":{"line":205,"column":10},"end":{"line":235,"column":11}},"84":{"start":{"line":206,"column":12},"end":{"line":234,"column":13}},"85":{"start":{"line":208,"column":16},"end":{"line":208,"column":35}},"86":{"start":{"line":209,"column":16},"end":{"line":209,"column":35}},"87":{"start":{"line":210,"column":16},"end":{"line":216,"column":19}},"88":{"start":{"line":219,"column":16},"end":{"line":219,"column":48}},"89":{"start":{"line":220,"column":16},"end":{"line":220,"column":41}},"90":{"start":{"line":221,"column":16},"end":{"line":221,"column":36}},"91":{"start":{"line":222,"column":16},"end":{"line":222,"column":22}},"92":{"start":{"line":225,"column":16},"end":{"line":225,"column":35}},"93":{"start":{"line":226,"column":16},"end":{"line":226,"column":53}},"94":{"start":{"line":227,"column":16},"end":{"line":229,"column":19}},"95":{"start":{"line":233,"column":16},"end":{"line":233,"column":40}},"96":{"start":{"line":240,"column":8},"end":{"line":240,"column":56}},"97":{"start":{"line":243,"column":6},"end":{"line":243,"column":30}},"98":{"start":{"line":246,"column":2},"end":{"line":246,"column":28}},"99":{"start":{"line":249,"column":15},"end":{"line":249,"column":33}},"100":{"start":{"line":250,"column":0},"end":{"line":250,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":21,"column":38},"end":{"line":21,"column":39}},"loc":{"start":{"line":21,"column":50},"end":{"line":247,"column":1}},"line":21},"1":{"name":"ArticlesController","decl":{"start":{"line":22,"column":11},"end":{"line":22,"column":29}},"loc":{"start":{"line":22,"column":32},"end":{"line":24,"column":3}},"line":22},"2":{"name":"(anonymous_2)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":16},"end":{"line":67,"column":5}},"line":29},"3":{"name":"_callee","decl":{"start":{"line":30,"column":115},"end":{"line":30,"column":122}},"loc":{"start":{"line":30,"column":133},"end":{"line":60,"column":7}},"line":30},"4":{"name":"_callee$","decl":{"start":{"line":32,"column":53},"end":{"line":32,"column":61}},"loc":{"start":{"line":32,"column":72},"end":{"line":59,"column":9}},"line":32},"5":{"name":"getAllArticles","decl":{"start":{"line":62,"column":15},"end":{"line":62,"column":29}},"loc":{"start":{"line":62,"column":39},"end":{"line":64,"column":7}},"line":62},"6":{"name":"(anonymous_6)","decl":{"start":{"line":71,"column":11},"end":{"line":71,"column":12}},"loc":{"start":{"line":71,"column":23},"end":{"line":113,"column":5}},"line":71},"7":{"name":"_callee2","decl":{"start":{"line":72,"column":114},"end":{"line":72,"column":122}},"loc":{"start":{"line":72,"column":133},"end":{"line":106,"column":7}},"line":72},"8":{"name":"_callee2$","decl":{"start":{"line":74,"column":53},"end":{"line":74,"column":62}},"loc":{"start":{"line":74,"column":74},"end":{"line":105,"column":9}},"line":74},"9":{"name":"addOneArticle","decl":{"start":{"line":108,"column":15},"end":{"line":108,"column":28}},"loc":{"start":{"line":108,"column":39},"end":{"line":110,"column":7}},"line":108},"10":{"name":"(anonymous_10)","decl":{"start":{"line":117,"column":11},"end":{"line":117,"column":12}},"loc":{"start":{"line":117,"column":23},"end":{"line":154,"column":5}},"line":117},"11":{"name":"_callee3","decl":{"start":{"line":118,"column":114},"end":{"line":118,"column":122}},"loc":{"start":{"line":118,"column":133},"end":{"line":147,"column":7}},"line":118},"12":{"name":"_callee3$","decl":{"start":{"line":120,"column":53},"end":{"line":120,"column":62}},"loc":{"start":{"line":120,"column":74},"end":{"line":146,"column":9}},"line":120},"13":{"name":"getOneArticle","decl":{"start":{"line":149,"column":15},"end":{"line":149,"column":28}},"loc":{"start":{"line":149,"column":39},"end":{"line":151,"column":7}},"line":149},"14":{"name":"(anonymous_14)","decl":{"start":{"line":158,"column":11},"end":{"line":158,"column":12}},"loc":{"start":{"line":158,"column":23},"end":{"line":197,"column":5}},"line":158},"15":{"name":"_callee4","decl":{"start":{"line":159,"column":117},"end":{"line":159,"column":125}},"loc":{"start":{"line":159,"column":136},"end":{"line":190,"column":7}},"line":159},"16":{"name":"_callee4$","decl":{"start":{"line":161,"column":53},"end":{"line":161,"column":62}},"loc":{"start":{"line":161,"column":74},"end":{"line":189,"column":9}},"line":161},"17":{"name":"deleteOneArticle","decl":{"start":{"line":192,"column":15},"end":{"line":192,"column":31}},"loc":{"start":{"line":192,"column":42},"end":{"line":194,"column":7}},"line":192},"18":{"name":"(anonymous_18)","decl":{"start":{"line":201,"column":11},"end":{"line":201,"column":12}},"loc":{"start":{"line":201,"column":23},"end":{"line":244,"column":5}},"line":201},"19":{"name":"_callee5","decl":{"start":{"line":202,"column":117},"end":{"line":202,"column":125}},"loc":{"start":{"line":202,"column":136},"end":{"line":237,"column":7}},"line":202},"20":{"name":"_callee5$","decl":{"start":{"line":204,"column":53},"end":{"line":204,"column":62}},"loc":{"start":{"line":204,"column":74},"end":{"line":236,"column":9}},"line":204},"21":{"name":"updateOneArticle","decl":{"start":{"line":239,"column":15},"end":{"line":239,"column":31}},"loc":{"start":{"line":239,"column":43},"end":{"line":241,"column":7}},"line":239}},"branchMap":{"0":{"loc":{"start":{"line":34,"column":12},"end":{"line":57,"column":13}},"type":"switch","locations":[{"start":{"line":35,"column":14},"end":{"line":38,"column":50}},{"start":{"line":40,"column":14},"end":{"line":44,"column":22}},{"start":{"line":46,"column":14},"end":{"line":52,"column":41}},{"start":{"line":54,"column":14},"end":{"line":54,"column":22}},{"start":{"line":55,"column":14},"end":{"line":56,"column":39}}],"line":34},"1":{"loc":{"start":{"line":76,"column":12},"end":{"line":103,"column":13}},"type":"switch","locations":[{"start":{"line":77,"column":14},"end":{"line":85,"column":38}},{"start":{"line":87,"column":14},"end":{"line":91,"column":22}},{"start":{"line":93,"column":14},"end":{"line":98,"column":19}},{"start":{"line":100,"column":14},"end":{"line":100,"column":22}},{"start":{"line":101,"column":14},"end":{"line":102,"column":40}}],"line":76},"2":{"loc":{"start":{"line":122,"column":12},"end":{"line":144,"column":13}},"type":"switch","locations":[{"start":{"line":123,"column":14},"end":{"line":126,"column":74}},{"start":{"line":128,"column":14},"end":{"line":132,"column":22}},{"start":{"line":134,"column":14},"end":{"line":139,"column":19}},{"start":{"line":141,"column":14},"end":{"line":141,"column":22}},{"start":{"line":142,"column":14},"end":{"line":143,"column":40}}],"line":122},"3":{"loc":{"start":{"line":163,"column":12},"end":{"line":187,"column":13}},"type":"switch","locations":[{"start":{"line":164,"column":14},"end":{"line":169,"column":19}},{"start":{"line":171,"column":14},"end":{"line":175,"column":22}},{"start":{"line":177,"column":14},"end":{"line":182,"column":19}},{"start":{"line":184,"column":14},"end":{"line":184,"column":22}},{"start":{"line":185,"column":14},"end":{"line":186,"column":40}}],"line":163},"4":{"loc":{"start":{"line":206,"column":12},"end":{"line":234,"column":13}},"type":"switch","locations":[{"start":{"line":207,"column":14},"end":{"line":216,"column":19}},{"start":{"line":218,"column":14},"end":{"line":222,"column":22}},{"start":{"line":224,"column":14},"end":{"line":229,"column":19}},{"start":{"line":231,"column":14},"end":{"line":231,"column":22}},{"start":{"line":232,"column":14},"end":{"line":233,"column":40}}],"line":206}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":2,"14":3,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":0,"23":0,"24":0,"25":0,"26":1,"27":1,"28":1,"29":1,"30":1,"31":2,"32":3,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":0,"42":0,"43":0,"44":1,"45":1,"46":1,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":1,"81":1,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":1,"98":1,"99":1,"100":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":1,"7":1,"8":2,"9":1,"10":1,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0},"b":{"0":[1,1,0,1,1],"1":[1,1,0,1,1],"2":[0,0,0,0,0],"3":[0,0,0,0,0],"4":[0,0,0,0,0]},"inputSourceMap":{"version":3,"sources":["ArticlesController.js"],"names":["ArticlesController","req","res","Article","find","article","json","message","console","log","title","body","save","savedAricle","findById","params","articleId","deleteOne","_id","removedArticle","error","updateOne","contactId","$set","updatedArticle"],"mappings":"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","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\","sourcesContent":["\r\nimport Article from '../models/article.model';\r\n// import User from '../models/User';\r\n\r\nclass ArticlesController {\r\n\r\n    //Get all Articles\r\n    async getAllArticles(req, res) {\r\n        try {\r\n            const article = await Article.find();\r\n            res.json(article)\r\n        } catch (err) {\r\n            res.json({ message: err })\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    //Add article\r\n    async addOneArticle(req, res) {\r\n        const article = new Article({\r\n            title: req.body.title,\r\n            body: req.body.body,\r\n            message: req.body.message\r\n        });\r\n\r\n        try {\r\n            const savedAricle = await article.save();\r\n            res.json(savedAricle);\r\n        } catch (err) {\r\n            res.json({ message: err })\r\n        }\r\n    }\r\n\r\n    //Get a specific article\r\n    async getOneArticle(req, res) {\r\n        try {\r\n            const article = await Article.findById(req.params.articleId);\r\n            res.json(article)\r\n        } catch (err) {\r\n            res.json({ message: err })\r\n        }\r\n    }\r\n\r\n\r\n    //delete a specific contact\r\n    async deleteOneArticle(req, res) {\r\n        try {\r\n            const removedArticle = await Article.deleteOne({ _id: req.params.articleId })\r\n            res.json(removedArticle)\r\n        } catch (err) {\r\n            res.json({ message: error })\r\n        }\r\n    }\r\n\r\n    //update a specific article\r\n    async updateOneArticle(req, res) {\r\n        try {\r\n            const updatedArticle = await Article.updateOne(\r\n                { _id: req.params.contactId },\r\n                { $set: { body: req.body.body } }\r\n            )\r\n            res.json(updatedArticle)\r\n        } catch (err) {\r\n            res.json({ message: error })\r\n        }\r\n    }\r\n}\r\n\r\nexport default ArticlesController;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"94ecb919e10a89d137499fe98a4e83d53b4a47d0","contentHash":"808df422c94ed898ed415c89ba88a65e8b03962649720537d70d541a7a614c3d"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\models\\article.model.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\models\\article.model.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":16},"end":{"line":10,"column":59}},"4":{"start":{"line":13,"column":13},"end":{"line":13,"column":40}},"5":{"start":{"line":15,"column":20},"end":{"line":29,"column":2}},"6":{"start":{"line":31,"column":15},"end":{"line":31,"column":67}},"7":{"start":{"line":33,"column":0},"end":{"line":33,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["article.model.js"],"names":["Schema","mongoose","ArticleSchema","title","type","String","required","body","date","Date","now","model"],"mappings":";;;;;;;;;AACA;;AADA;AAEA,IAAQA,MAAR,GAAmBC,oBAAnB,CAAQD,MAAR;;AAEA,IAAME,aAAa,GAAGD,qBAASD,MAAT,CAAgB;AAClC;AACAG,EAAAA,KAAK,EAAE;AACHC,IAAAA,IAAI,EAACC,MADF;AAEHC,IAAAA,QAAQ,EAAE;AAFP,GAF2B;AAMlCC,EAAAA,IAAI,EAAG;AACHH,IAAAA,IAAI,EAAEC,MADH;AAEHC,IAAAA,QAAQ,EAAE;AAFP,GAN2B;AAUlCE,EAAAA,IAAI,EAAE;AACFJ,IAAAA,IAAI,EAAEK,IADJ;AAEF,eAASA,IAAI,CAACC;AAFZ;AAV4B,CAAhB,CAAtB;;eAgBeT,qBAASU,KAAT,CAAe,SAAf,EAA0BT,aAA1B,C","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\models\\","sourcesContent":["// const mongoose = require('mongoose');\r\nimport mongoose from 'mongoose'\r\nconst { Schema } = mongoose;\r\n\r\nconst ArticleSchema = mongoose.Schema({\r\n    //createdBy: [{ type: Schema.Types.ObjectId, ref: 'User' }],\r\n    title: {\r\n        type:String,\r\n        required: true \r\n    },\r\n    body:  {\r\n        type: String,\r\n        required: true\r\n    },\r\n    date: {\r\n        type: Date,\r\n        default: Date.now\r\n    }\r\n});\r\n\r\nexport default mongoose.model('Article', ArticleSchema);\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"818841533ae59714c9b695b6b049b2c8f58ec24a","contentHash":"382d0e44af52d56144324505b69172da9b9e10854a8a1ce96f036e0a841adfbc"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\routes\\messagesRouter.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\routes\\messagesRouter.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":26},"end":{"line":12,"column":94}},"5":{"start":{"line":14,"column":21},"end":{"line":14,"column":87}},"6":{"start":{"line":16,"column":21},"end":{"line":16,"column":49}},"7":{"start":{"line":18,"column":15},"end":{"line":18,"column":51}},"8":{"start":{"line":49,"column":0},"end":{"line":49,"column":48}},"9":{"start":{"line":83,"column":0},"end":{"line":83,"column":76}},"10":{"start":{"line":106,"column":0},"end":{"line":106,"column":58}},"11":{"start":{"line":129,"column":0},"end":{"line":129,"column":94}},"12":{"start":{"line":164,"column":0},"end":{"line":164,"column":90}},"13":{"start":{"line":165,"column":15},"end":{"line":165,"column":29}},"14":{"start":{"line":166,"column":0},"end":{"line":166,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["messagesRouter.js"],"names":["messagesRouter","express","Router","messages","MessagesController","get","getAllMessage","post","validateToken","addOneMessage","getOneMessage","deleteOneMessage","patch","updateOneMessage"],"mappings":";;;;;;;;;AAAA;;AACA;;AAGA;;AAFA,IAAMA,cAAc,GAAGC,oBAAQC,MAAR,EAAvB;;AAIA,IAAMC,QAAQ,GAAG,IAAIC,8BAAJ,EAAjB,C,CAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAJ,cAAc,CAACK,GAAf,CAAmB,GAAnB,EAAwBF,QAAQ,CAACG,aAAjC,E,CAGA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAN,cAAc,CAACO,IAAf,CAAoB,GAApB,EAAyBC,yBAAzB,EAAwCL,QAAQ,CAACM,aAAjD,E,CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGAT,cAAc,CAACK,GAAf,CAAmB,aAAnB,EAAkCF,QAAQ,CAACO,aAA3C,E,CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAV,cAAc,UAAd,CAAsB,aAAtB,EAAqCQ,yBAArC,EAAoDL,QAAQ,CAACQ,gBAA7D,E,CAGA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAX,cAAc,CAACY,KAAf,CAAqB,aAArB,EAAoCJ,yBAApC,EAAmDL,QAAQ,CAACU,gBAA5D;eAGeb,c","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\routes\\","sourcesContent":["import express from \"express\";\r\nimport MessagesController from \"../controllers/MessagesController\";\r\nconst messagesRouter = express.Router();\r\n\r\nimport validateToken from \"../middlewares/validateToken.js\";\r\n\r\nconst messages = new MessagesController();\r\n\r\n//Get all Messages\r\n\r\n/**\r\n * @openapi\r\n * '/messages':\r\n *  get:\r\n *     tags:\r\n *     - Messages\r\n *     summary: Get all Messages\r\n *     responses:\r\n *       200:\r\n *         description: Success\r\n *         content:\r\n *          application/json:\r\n *            schema:\r\n *              type: array\r\n *              items:\r\n *                type: object\r\n *                properties:\r\n *                  id:\r\n *                    type: number\r\n *                  createdBy:\r\n *                    type: string\r\n *                  title:\r\n *                     type: string\r\n *                  body:\r\n *                      type: string\r\n *       400:\r\n *         description: Bad request\r\n */\r\n\r\nmessagesRouter.get('/', messages.getAllMessage);\r\n\r\n\r\n// Add a contact\r\n/**\r\n * @openapi\r\n * '/messages':\r\n *  post:\r\n *     tags:\r\n *     - Messages\r\n *     summary: Add Messages\r\n *     requestBody:\r\n *      required: true\r\n *      content:\r\n *        application/json:\r\n *           schema:\r\n *            type: object\r\n *            required:\r\n *              - title\r\n *              - body\r\n *            properties:\r\n *              title:\r\n *                type: string\r\n *                default: The tile of articlr\r\n *              body:\r\n *                type: string\r\n *                default: The body of article\r\n *     responses:\r\n *      201:\r\n *        description: Created\r\n *      409:\r\n *        description: Conflict\r\n *      404:\r\n *        description: Not Found\r\n */\r\n\r\nmessagesRouter.post('/', validateToken, messages.addOneMessage);\r\n\r\n// Get a specific contact\r\n/**\r\n * @openapi\r\n * '/messages/{messageId}':\r\n *  get:\r\n *     tags:\r\n *     - Messages\r\n *     summary: Get a specific article\r\n *     parameters:\r\n *      - name: messageId\r\n *        in: path\r\n *        description: The unique id of the article\r\n *        required: true\r\n *     responses:\r\n *      200:\r\n *        description: Removed\r\n *      400:\r\n *        description: Bad request\r\n *      404:\r\n *        description: Not Found\r\n */\r\n\r\n\r\nmessagesRouter.get('/:messageId', messages.getOneMessage)\r\n\r\n//delete a specific contact\r\n/**\r\n * @openapi\r\n * '/messages/{messageId}':\r\n *  delete:\r\n *     tags:\r\n *     - Messages\r\n *     summary: Delete a specific article\r\n *     parameters:\r\n *      - name: messageId\r\n *        in: path\r\n *        description: The unique id of the article\r\n *        required: true\r\n *     responses:\r\n *      200:\r\n *        description: Removed\r\n *      400:\r\n *        description: Bad request\r\n *      404:\r\n *        description: Not Found\r\n */\r\n\r\nmessagesRouter.delete('/:articleId', validateToken, messages.deleteOneMessage)\r\n\r\n\r\n//update a specific contact\r\n/**\r\n * @openapi\r\n * '/messages/:contactId':\r\n *  patch:\r\n *     tags:\r\n *     - Messages\r\n *     summary: Modify an Messages\r\n *     requestBody:\r\n *      required: true\r\n *      content:\r\n *        application/json:\r\n *           schema:\r\n *            type: object\r\n *            required:\r\n *              - title\r\n *              - body\r\n *            properties:\r\n *              title:\r\n *                type: string\r\n *                default: your title\r\n *              body:\r\n *                type: string\r\n *                default: your body\r\n *     responses:\r\n *      200:\r\n *        description: Modified\r\n *      400:\r\n *        description: Bad Request\r\n *      404:\r\n *        description: Not Found\r\n */\r\n//update a specific contact\r\nmessagesRouter.patch('/:articleId', validateToken, messages.updateOneMessage )\r\n\r\n\r\nexport default messagesRouter;\r\n\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"33492a516ba75d5d0b47550b62cf234b4d65a18a","contentHash":"10e3b6ca545796cd2d2a770bf3cc71f1d6c7f29b37b5db2af26fe53eb43f3c44"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\MessagesController.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\MessagesController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":99}},"5":{"start":{"line":14,"column":23},"end":{"line":14,"column":95}},"6":{"start":{"line":16,"column":20},"end":{"line":16,"column":89}},"7":{"start":{"line":18,"column":15},"end":{"line":18,"column":73}},"8":{"start":{"line":20,"column":38},"end":{"line":247,"column":3}},"9":{"start":{"line":22,"column":4},"end":{"line":22,"column":63}},"10":{"start":{"line":25,"column":2},"end":{"line":245,"column":6}},"11":{"start":{"line":29,"column":27},"end":{"line":59,"column":9}},"12":{"start":{"line":31,"column":8},"end":{"line":58,"column":36}},"13":{"start":{"line":32,"column":10},"end":{"line":57,"column":11}},"14":{"start":{"line":33,"column":12},"end":{"line":56,"column":13}},"15":{"start":{"line":35,"column":16},"end":{"line":35,"column":34}},"16":{"start":{"line":36,"column":16},"end":{"line":36,"column":34}},"17":{"start":{"line":37,"column":16},"end":{"line":37,"column":50}},"18":{"start":{"line":40,"column":16},"end":{"line":40,"column":41}},"19":{"start":{"line":41,"column":16},"end":{"line":41,"column":35}},"20":{"start":{"line":42,"column":16},"end":{"line":42,"column":35}},"21":{"start":{"line":43,"column":16},"end":{"line":43,"column":22}},"22":{"start":{"line":46,"column":16},"end":{"line":46,"column":34}},"23":{"start":{"line":47,"column":16},"end":{"line":47,"column":51}},"24":{"start":{"line":48,"column":16},"end":{"line":50,"column":19}},"25":{"start":{"line":51,"column":16},"end":{"line":51,"column":41}},"26":{"start":{"line":55,"column":16},"end":{"line":55,"column":39}},"27":{"start":{"line":62,"column":8},"end":{"line":62,"column":53}},"28":{"start":{"line":65,"column":6},"end":{"line":65,"column":27}},"29":{"start":{"line":71,"column":27},"end":{"line":106,"column":9}},"30":{"start":{"line":73,"column":8},"end":{"line":105,"column":37}},"31":{"start":{"line":74,"column":10},"end":{"line":104,"column":11}},"32":{"start":{"line":75,"column":12},"end":{"line":103,"column":13}},"33":{"start":{"line":77,"column":16},"end":{"line":82,"column":19}},"34":{"start":{"line":83,"column":16},"end":{"line":83,"column":35}},"35":{"start":{"line":84,"column":16},"end":{"line":84,"column":35}},"36":{"start":{"line":85,"column":16},"end":{"line":85,"column":38}},"37":{"start":{"line":88,"column":16},"end":{"line":88,"column":46}},"38":{"start":{"line":89,"column":16},"end":{"line":89,"column":39}},"39":{"start":{"line":90,"column":16},"end":{"line":90,"column":36}},"40":{"start":{"line":91,"column":16},"end":{"line":91,"column":22}},"41":{"start":{"line":94,"column":16},"end":{"line":94,"column":35}},"42":{"start":{"line":95,"column":16},"end":{"line":95,"column":53}},"43":{"start":{"line":96,"column":16},"end":{"line":98,"column":19}},"44":{"start":{"line":102,"column":16},"end":{"line":102,"column":40}},"45":{"start":{"line":109,"column":8},"end":{"line":109,"column":53}},"46":{"start":{"line":112,"column":6},"end":{"line":112,"column":27}},"47":{"start":{"line":118,"column":27},"end":{"line":147,"column":9}},"48":{"start":{"line":120,"column":8},"end":{"line":146,"column":37}},"49":{"start":{"line":121,"column":10},"end":{"line":145,"column":11}},"50":{"start":{"line":122,"column":12},"end":{"line":144,"column":13}},"51":{"start":{"line":124,"column":16},"end":{"line":124,"column":35}},"52":{"start":{"line":125,"column":16},"end":{"line":125,"column":35}},"53":{"start":{"line":126,"column":16},"end":{"line":126,"column":74}},"54":{"start":{"line":129,"column":16},"end":{"line":129,"column":41}},"55":{"start":{"line":130,"column":16},"end":{"line":130,"column":34}},"56":{"start":{"line":131,"column":16},"end":{"line":131,"column":36}},"57":{"start":{"line":132,"column":16},"end":{"line":132,"column":22}},"58":{"start":{"line":135,"column":16},"end":{"line":135,"column":35}},"59":{"start":{"line":136,"column":16},"end":{"line":136,"column":53}},"60":{"start":{"line":137,"column":16},"end":{"line":139,"column":19}},"61":{"start":{"line":143,"column":16},"end":{"line":143,"column":40}},"62":{"start":{"line":150,"column":8},"end":{"line":150,"column":53}},"63":{"start":{"line":153,"column":6},"end":{"line":153,"column":27}},"64":{"start":{"line":159,"column":30},"end":{"line":190,"column":9}},"65":{"start":{"line":161,"column":8},"end":{"line":189,"column":37}},"66":{"start":{"line":162,"column":10},"end":{"line":188,"column":11}},"67":{"start":{"line":163,"column":12},"end":{"line":187,"column":13}},"68":{"start":{"line":165,"column":16},"end":{"line":165,"column":35}},"69":{"start":{"line":166,"column":16},"end":{"line":166,"column":35}},"70":{"start":{"line":167,"column":16},"end":{"line":169,"column":19}},"71":{"start":{"line":172,"column":16},"end":{"line":172,"column":48}},"72":{"start":{"line":173,"column":16},"end":{"line":173,"column":41}},"73":{"start":{"line":174,"column":16},"end":{"line":174,"column":36}},"74":{"start":{"line":175,"column":16},"end":{"line":175,"column":22}},"75":{"start":{"line":178,"column":16},"end":{"line":178,"column":35}},"76":{"start":{"line":179,"column":16},"end":{"line":179,"column":53}},"77":{"start":{"line":180,"column":16},"end":{"line":182,"column":19}},"78":{"start":{"line":186,"column":16},"end":{"line":186,"column":40}},"79":{"start":{"line":193,"column":8},"end":{"line":193,"column":56}},"80":{"start":{"line":196,"column":6},"end":{"line":196,"column":30}},"81":{"start":{"line":202,"column":30},"end":{"line":237,"column":9}},"82":{"start":{"line":204,"column":8},"end":{"line":236,"column":37}},"83":{"start":{"line":205,"column":10},"end":{"line":235,"column":11}},"84":{"start":{"line":206,"column":12},"end":{"line":234,"column":13}},"85":{"start":{"line":208,"column":16},"end":{"line":208,"column":35}},"86":{"start":{"line":209,"column":16},"end":{"line":209,"column":35}},"87":{"start":{"line":210,"column":16},"end":{"line":216,"column":19}},"88":{"start":{"line":219,"column":16},"end":{"line":219,"column":48}},"89":{"start":{"line":220,"column":16},"end":{"line":220,"column":41}},"90":{"start":{"line":221,"column":16},"end":{"line":221,"column":36}},"91":{"start":{"line":222,"column":16},"end":{"line":222,"column":22}},"92":{"start":{"line":225,"column":16},"end":{"line":225,"column":35}},"93":{"start":{"line":226,"column":16},"end":{"line":226,"column":53}},"94":{"start":{"line":227,"column":16},"end":{"line":229,"column":19}},"95":{"start":{"line":233,"column":16},"end":{"line":233,"column":40}},"96":{"start":{"line":240,"column":8},"end":{"line":240,"column":56}},"97":{"start":{"line":243,"column":6},"end":{"line":243,"column":30}},"98":{"start":{"line":246,"column":2},"end":{"line":246,"column":28}},"99":{"start":{"line":249,"column":15},"end":{"line":249,"column":33}},"100":{"start":{"line":250,"column":0},"end":{"line":250,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":20,"column":38},"end":{"line":20,"column":39}},"loc":{"start":{"line":20,"column":50},"end":{"line":247,"column":1}},"line":20},"1":{"name":"MessagesController","decl":{"start":{"line":21,"column":11},"end":{"line":21,"column":29}},"loc":{"start":{"line":21,"column":32},"end":{"line":23,"column":3}},"line":21},"2":{"name":"(anonymous_2)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":16},"end":{"line":66,"column":5}},"line":28},"3":{"name":"_callee","decl":{"start":{"line":29,"column":114},"end":{"line":29,"column":121}},"loc":{"start":{"line":29,"column":132},"end":{"line":59,"column":7}},"line":29},"4":{"name":"_callee$","decl":{"start":{"line":31,"column":53},"end":{"line":31,"column":61}},"loc":{"start":{"line":31,"column":72},"end":{"line":58,"column":9}},"line":31},"5":{"name":"getAllMessage","decl":{"start":{"line":61,"column":15},"end":{"line":61,"column":28}},"loc":{"start":{"line":61,"column":38},"end":{"line":63,"column":7}},"line":61},"6":{"name":"(anonymous_6)","decl":{"start":{"line":70,"column":11},"end":{"line":70,"column":12}},"loc":{"start":{"line":70,"column":23},"end":{"line":113,"column":5}},"line":70},"7":{"name":"_callee2","decl":{"start":{"line":71,"column":114},"end":{"line":71,"column":122}},"loc":{"start":{"line":71,"column":133},"end":{"line":106,"column":7}},"line":71},"8":{"name":"_callee2$","decl":{"start":{"line":73,"column":53},"end":{"line":73,"column":62}},"loc":{"start":{"line":73,"column":74},"end":{"line":105,"column":9}},"line":73},"9":{"name":"addOneMessage","decl":{"start":{"line":108,"column":15},"end":{"line":108,"column":28}},"loc":{"start":{"line":108,"column":39},"end":{"line":110,"column":7}},"line":108},"10":{"name":"(anonymous_10)","decl":{"start":{"line":117,"column":11},"end":{"line":117,"column":12}},"loc":{"start":{"line":117,"column":23},"end":{"line":154,"column":5}},"line":117},"11":{"name":"_callee3","decl":{"start":{"line":118,"column":114},"end":{"line":118,"column":122}},"loc":{"start":{"line":118,"column":133},"end":{"line":147,"column":7}},"line":118},"12":{"name":"_callee3$","decl":{"start":{"line":120,"column":53},"end":{"line":120,"column":62}},"loc":{"start":{"line":120,"column":74},"end":{"line":146,"column":9}},"line":120},"13":{"name":"getOneMessage","decl":{"start":{"line":149,"column":15},"end":{"line":149,"column":28}},"loc":{"start":{"line":149,"column":39},"end":{"line":151,"column":7}},"line":149},"14":{"name":"(anonymous_14)","decl":{"start":{"line":158,"column":11},"end":{"line":158,"column":12}},"loc":{"start":{"line":158,"column":23},"end":{"line":197,"column":5}},"line":158},"15":{"name":"_callee4","decl":{"start":{"line":159,"column":117},"end":{"line":159,"column":125}},"loc":{"start":{"line":159,"column":136},"end":{"line":190,"column":7}},"line":159},"16":{"name":"_callee4$","decl":{"start":{"line":161,"column":53},"end":{"line":161,"column":62}},"loc":{"start":{"line":161,"column":74},"end":{"line":189,"column":9}},"line":161},"17":{"name":"deleteOneMessage","decl":{"start":{"line":192,"column":15},"end":{"line":192,"column":31}},"loc":{"start":{"line":192,"column":42},"end":{"line":194,"column":7}},"line":192},"18":{"name":"(anonymous_18)","decl":{"start":{"line":201,"column":11},"end":{"line":201,"column":12}},"loc":{"start":{"line":201,"column":23},"end":{"line":244,"column":5}},"line":201},"19":{"name":"_callee5","decl":{"start":{"line":202,"column":117},"end":{"line":202,"column":125}},"loc":{"start":{"line":202,"column":136},"end":{"line":237,"column":7}},"line":202},"20":{"name":"_callee5$","decl":{"start":{"line":204,"column":53},"end":{"line":204,"column":62}},"loc":{"start":{"line":204,"column":74},"end":{"line":236,"column":9}},"line":204},"21":{"name":"updateOneMessage","decl":{"start":{"line":239,"column":15},"end":{"line":239,"column":31}},"loc":{"start":{"line":239,"column":43},"end":{"line":241,"column":7}},"line":239}},"branchMap":{"0":{"loc":{"start":{"line":33,"column":12},"end":{"line":56,"column":13}},"type":"switch","locations":[{"start":{"line":34,"column":14},"end":{"line":37,"column":50}},{"start":{"line":39,"column":14},"end":{"line":43,"column":22}},{"start":{"line":45,"column":14},"end":{"line":51,"column":41}},{"start":{"line":53,"column":14},"end":{"line":53,"column":22}},{"start":{"line":54,"column":14},"end":{"line":55,"column":39}}],"line":33},"1":{"loc":{"start":{"line":75,"column":12},"end":{"line":103,"column":13}},"type":"switch","locations":[{"start":{"line":76,"column":14},"end":{"line":85,"column":38}},{"start":{"line":87,"column":14},"end":{"line":91,"column":22}},{"start":{"line":93,"column":14},"end":{"line":98,"column":19}},{"start":{"line":100,"column":14},"end":{"line":100,"column":22}},{"start":{"line":101,"column":14},"end":{"line":102,"column":40}}],"line":75},"2":{"loc":{"start":{"line":122,"column":12},"end":{"line":144,"column":13}},"type":"switch","locations":[{"start":{"line":123,"column":14},"end":{"line":126,"column":74}},{"start":{"line":128,"column":14},"end":{"line":132,"column":22}},{"start":{"line":134,"column":14},"end":{"line":139,"column":19}},{"start":{"line":141,"column":14},"end":{"line":141,"column":22}},{"start":{"line":142,"column":14},"end":{"line":143,"column":40}}],"line":122},"3":{"loc":{"start":{"line":163,"column":12},"end":{"line":187,"column":13}},"type":"switch","locations":[{"start":{"line":164,"column":14},"end":{"line":169,"column":19}},{"start":{"line":171,"column":14},"end":{"line":175,"column":22}},{"start":{"line":177,"column":14},"end":{"line":182,"column":19}},{"start":{"line":184,"column":14},"end":{"line":184,"column":22}},{"start":{"line":185,"column":14},"end":{"line":186,"column":40}}],"line":163},"4":{"loc":{"start":{"line":206,"column":12},"end":{"line":234,"column":13}},"type":"switch","locations":[{"start":{"line":207,"column":14},"end":{"line":216,"column":19}},{"start":{"line":218,"column":14},"end":{"line":222,"column":22}},{"start":{"line":224,"column":14},"end":{"line":229,"column":19}},{"start":{"line":231,"column":14},"end":{"line":231,"column":22}},{"start":{"line":232,"column":14},"end":{"line":233,"column":40}}],"line":206}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":1,"81":1,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":1,"98":1,"99":1,"100":1},"f":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0},"b":{"0":[0,0,0,0,0],"1":[0,0,0,0,0],"2":[0,0,0,0,0],"3":[0,0,0,0,0],"4":[0,0,0,0,0]},"inputSourceMap":{"version":3,"sources":["MessagesController.js"],"names":["MessagesController","req","res","Message","find","messages","json","message","console","log","name","body","address","email","save","savedMessage","findById","params","messageId","deleteOne","_id","removedMessage","error","updateOne","$set","updatedMessage"],"mappings":"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","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\","sourcesContent":["\r\nimport Message from '../models/message.model'\r\n\r\nclass MessagesController {\r\n    //Get all Messages\r\n    async getAllMessage(req, res) {\r\n        try {\r\n            const messages = await Message.find();\r\n            res.json(messages)\r\n        } catch (err) {\r\n            res.json({ message: err })\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    //Add message\r\n    async addOneMessage(req, res) {\r\n        const message = new Message({\r\n            name: req.body.name,\r\n            address: req.body.address,\r\n            email: req.body.email,\r\n            message: req.body.message\r\n        });\r\n\r\n        try {\r\n            const savedMessage = await message.save();\r\n            res.json(savedMessage);\r\n        } catch (err) {\r\n            res.json({ message: err })\r\n        }\r\n    }\r\n\r\n    //Get a specific message\r\n    async getOneMessage(req, res) {\r\n        try {\r\n            const message = await Message.findById(req.params.messageId);\r\n            res.json(message)\r\n        } catch (err) {\r\n            res.json({ message: err })\r\n        }\r\n    }\r\n\r\n\r\n    //delete a specific message\r\n    async deleteOneMessage(req, res) {\r\n        try {\r\n            const removedMessage = await Message.deleteOne({ _id: req.params.messageId })\r\n            res.json(removedMessage)\r\n        } catch (err) {\r\n            res.json({ message: error })\r\n        }\r\n    }\r\n\r\n    //update a specific message\r\n    async updateOneMessage(req, res) {\r\n        try {\r\n            const updatedMessage = await Message.updateOne(\r\n                { _id: req.params.messageId },\r\n                { $set: { message: req.body.message } }\r\n            )\r\n            res.json(updatedMessage)\r\n        } catch (err) {\r\n            res.json({ message: error })\r\n        }\r\n    }\r\n}\r\n\r\nexport default MessagesController;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e8fd02c16110bf54ac3d939a66bdc57c44832a42","contentHash":"bfd655972f7d2040f18b23433f2fbc01976ff5ecb73ca1e5ec8b1b7138c9edb2"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\models\\message.model.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\models\\message.model.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":16},"end":{"line":10,"column":59}},"4":{"start":{"line":13,"column":20},"end":{"line":28,"column":2}},"5":{"start":{"line":30,"column":15},"end":{"line":30,"column":67}},"6":{"start":{"line":32,"column":0},"end":{"line":32,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["message.model.js"],"names":["MessageSchema","mongoose","Schema","name","type","String","required","email","address","message","date","Date","now","model"],"mappings":";;;;;;;;;AACA;;AADA;AAGA,IAAMA,aAAa,GAAGC,qBAASC,MAAT,CAAgB;AAClCC,EAAAA,IAAI,EAAE;AACFC,IAAAA,IAAI,EAAEC,MADJ;AAEFC,IAAAA,QAAQ,EAAE;AAFR,GAD4B;AAKlCC,EAAAA,KAAK,EAAEF,MAL2B;AAMlCG,EAAAA,OAAO,EAAEH,MANyB;AAOlCI,EAAAA,OAAO,EAAG;AACNL,IAAAA,IAAI,EAAEC,MADA;AAENC,IAAAA,QAAQ,EAAE;AAFJ,GAPwB;AAWlCI,EAAAA,IAAI,EAAE;AACFN,IAAAA,IAAI,EAAEO,IADJ;AAEF,eAASA,IAAI,CAACC;AAFZ;AAX4B,CAAhB,CAAtB;;eAiBeX,qBAASY,KAAT,CAAe,SAAf,EAA0Bb,aAA1B,C","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\models\\","sourcesContent":["// const mongoose = require('mongoose');\r\nimport mongoose from 'mongoose'\r\n\r\nconst MessageSchema = mongoose.Schema({\r\n    name: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    email: String,\r\n    address: String,\r\n    message:  {\r\n        type: String,\r\n        required: true\r\n    },\r\n    date: {\r\n        type: Date,\r\n        default: Date.now\r\n    }\r\n});\r\n\r\nexport default mongoose.model('Message', MessageSchema);\r\n\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b6eb41e84532e31f3cd972c71414a62a2bf013d0","contentHash":"1df7af0b65dd90c14a58472e12c359a49f8d57b1bb8cf1181daceaeabd7627b9"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\routes\\routes.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\routes\\routes.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":66}},"5":{"start":{"line":14,"column":12},"end":{"line":14,"column":66}},"6":{"start":{"line":16,"column":13},"end":{"line":16,"column":45}},"7":{"start":{"line":20,"column":0},"end":{"line":20,"column":53}},"8":{"start":{"line":21,"column":0},"end":{"line":21,"column":49}},"9":{"start":{"line":22,"column":0},"end":{"line":22,"column":65}},"10":{"start":{"line":24,"column":0},"end":{"line":24,"column":57}},"11":{"start":{"line":25,"column":0},"end":{"line":25,"column":63}},"12":{"start":{"line":26,"column":15},"end":{"line":26,"column":21}},"13":{"start":{"line":27,"column":0},"end":{"line":27,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["routes.js"],"names":["router","express","Router","post","User","create","find","postsByUser","Post","userByPost"],"mappings":";;;;;;;;;AAAA;;AAIA;;AACA;;AAHA,IAAMA,MAAM,GAAG,IAAIC,oBAAQC,MAAZ,EAAf;AAIA;AACA;AAEA;AACAF,MAAM,CAACG,IAAP,CAAY,cAAZ,EAA2BC,iBAAKC,MAAhC;AACAL,MAAM,CAACG,IAAP,CAAY,YAAZ,EAAyBC,iBAAKE,IAA9B;AACAN,MAAM,CAACG,IAAP,CAAY,qBAAZ,EAAmCC,iBAAKG,WAAxC,E,CACA;;AACAP,MAAM,CAACG,IAAP,CAAY,kBAAZ,EAAgCK,iBAAKH,MAArC;AACAL,MAAM,CAACG,IAAP,CAAY,oBAAZ,EAAiCK,iBAAKC,UAAtC;eAEeT,M","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\routes\\","sourcesContent":["import express from 'express';\r\n\r\nconst router = new express.Router;\r\n\r\nimport User from '../controllers/user'\r\nimport Post from '../controllers/post';\r\n// const User = require('./controllers/user/user');\r\n// const Post = require('./controllers/post/post');\r\n\r\n// user routes\r\nrouter.post('/user/create',User.create);\r\nrouter.post('/user/find',User.find);\r\nrouter.post('/user/find/post/:id', User.postsByUser);\r\n// post routes\r\nrouter.post('/post/create/:id', Post.create);\r\nrouter.post('/post/populate/:id',Post.userByPost);\r\n\r\nexport default router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a768d6a4300bb29d943ccf18748a8dd3e6449279","contentHash":"dea984f258daae73032667c0100bca401598ff0ecc86ba9bf6868ada8f600f43"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\user.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\user.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":99}},"5":{"start":{"line":14,"column":12},"end":{"line":14,"column":61}},"6":{"start":{"line":16,"column":15},"end":{"line":108,"column":1}},"7":{"start":{"line":18,"column":18},"end":{"line":43,"column":7}},"8":{"start":{"line":21,"column":6},"end":{"line":42,"column":18}},"9":{"start":{"line":22,"column":8},"end":{"line":41,"column":9}},"10":{"start":{"line":23,"column":10},"end":{"line":40,"column":11}},"11":{"start":{"line":25,"column":14},"end":{"line":25,"column":108}},"12":{"start":{"line":26,"column":14},"end":{"line":26,"column":32}},"13":{"start":{"line":27,"column":14},"end":{"line":31,"column":17}},"14":{"start":{"line":34,"column":14},"end":{"line":34,"column":35}},"15":{"start":{"line":35,"column":14},"end":{"line":35,"column":63}},"16":{"start":{"line":39,"column":14},"end":{"line":39,"column":37}},"17":{"start":{"line":46,"column":6},"end":{"line":46,"column":44}},"18":{"start":{"line":49,"column":4},"end":{"line":49,"column":18}},"19":{"start":{"line":52,"column":16},"end":{"line":71,"column":7}},"20":{"start":{"line":54,"column":6},"end":{"line":70,"column":19}},"21":{"start":{"line":55,"column":8},"end":{"line":69,"column":9}},"22":{"start":{"line":56,"column":10},"end":{"line":68,"column":11}},"23":{"start":{"line":58,"column":14},"end":{"line":58,"column":33}},"24":{"start":{"line":59,"column":14},"end":{"line":59,"column":45}},"25":{"start":{"line":62,"column":14},"end":{"line":62,"column":36}},"26":{"start":{"line":63,"column":14},"end":{"line":63,"column":64}},"27":{"start":{"line":67,"column":14},"end":{"line":67,"column":38}},"28":{"start":{"line":74,"column":6},"end":{"line":74,"column":42}},"29":{"start":{"line":77,"column":4},"end":{"line":77,"column":16}},"30":{"start":{"line":80,"column":23},"end":{"line":100,"column":7}},"31":{"start":{"line":82,"column":6},"end":{"line":99,"column":19}},"32":{"start":{"line":83,"column":8},"end":{"line":98,"column":9}},"33":{"start":{"line":84,"column":10},"end":{"line":97,"column":11}},"34":{"start":{"line":86,"column":14},"end":{"line":86,"column":33}},"35":{"start":{"line":87,"column":14},"end":{"line":87,"column":33}},"36":{"start":{"line":88,"column":14},"end":{"line":88,"column":69}},"37":{"start":{"line":91,"column":14},"end":{"line":91,"column":36}},"38":{"start":{"line":92,"column":14},"end":{"line":92,"column":35}},"39":{"start":{"line":96,"column":14},"end":{"line":96,"column":38}},"40":{"start":{"line":103,"column":6},"end":{"line":103,"column":49}},"41":{"start":{"line":106,"column":4},"end":{"line":106,"column":23}},"42":{"start":{"line":114,"column":0},"end":{"line":114,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":17,"column":10},"end":{"line":17,"column":11}},"loc":{"start":{"line":17,"column":22},"end":{"line":50,"column":3}},"line":17},"1":{"name":"_callee","decl":{"start":{"line":18,"column":105},"end":{"line":18,"column":112}},"loc":{"start":{"line":18,"column":123},"end":{"line":43,"column":5}},"line":18},"2":{"name":"_callee$","decl":{"start":{"line":21,"column":51},"end":{"line":21,"column":59}},"loc":{"start":{"line":21,"column":70},"end":{"line":42,"column":7}},"line":21},"3":{"name":"create","decl":{"start":{"line":45,"column":13},"end":{"line":45,"column":19}},"loc":{"start":{"line":45,"column":29},"end":{"line":47,"column":5}},"line":45},"4":{"name":"(anonymous_4)","decl":{"start":{"line":51,"column":8},"end":{"line":51,"column":9}},"loc":{"start":{"line":51,"column":20},"end":{"line":78,"column":3}},"line":51},"5":{"name":"_callee2","decl":{"start":{"line":52,"column":103},"end":{"line":52,"column":111}},"loc":{"start":{"line":52,"column":122},"end":{"line":71,"column":5}},"line":52},"6":{"name":"_callee2$","decl":{"start":{"line":54,"column":51},"end":{"line":54,"column":60}},"loc":{"start":{"line":54,"column":72},"end":{"line":70,"column":7}},"line":54},"7":{"name":"find","decl":{"start":{"line":73,"column":13},"end":{"line":73,"column":17}},"loc":{"start":{"line":73,"column":28},"end":{"line":75,"column":5}},"line":73},"8":{"name":"(anonymous_8)","decl":{"start":{"line":79,"column":15},"end":{"line":79,"column":16}},"loc":{"start":{"line":79,"column":27},"end":{"line":107,"column":3}},"line":79},"9":{"name":"_callee3","decl":{"start":{"line":80,"column":110},"end":{"line":80,"column":118}},"loc":{"start":{"line":80,"column":129},"end":{"line":100,"column":5}},"line":80},"10":{"name":"_callee3$","decl":{"start":{"line":82,"column":51},"end":{"line":82,"column":60}},"loc":{"start":{"line":82,"column":72},"end":{"line":99,"column":7}},"line":82},"11":{"name":"postsByUser","decl":{"start":{"line":102,"column":13},"end":{"line":102,"column":24}},"loc":{"start":{"line":102,"column":35},"end":{"line":104,"column":5}},"line":102}},"branchMap":{"0":{"loc":{"start":{"line":23,"column":10},"end":{"line":40,"column":11}},"type":"switch","locations":[{"start":{"line":24,"column":12},"end":{"line":31,"column":17}},{"start":{"line":33,"column":12},"end":{"line":35,"column":63}},{"start":{"line":37,"column":12},"end":{"line":37,"column":19}},{"start":{"line":38,"column":12},"end":{"line":39,"column":37}}],"line":23},"1":{"loc":{"start":{"line":56,"column":10},"end":{"line":68,"column":11}},"type":"switch","locations":[{"start":{"line":57,"column":12},"end":{"line":59,"column":45}},{"start":{"line":61,"column":12},"end":{"line":63,"column":64}},{"start":{"line":65,"column":12},"end":{"line":65,"column":19}},{"start":{"line":66,"column":12},"end":{"line":67,"column":38}}],"line":56},"2":{"loc":{"start":{"line":84,"column":10},"end":{"line":97,"column":11}},"type":"switch","locations":[{"start":{"line":85,"column":12},"end":{"line":88,"column":69}},{"start":{"line":90,"column":12},"end":{"line":92,"column":35}},{"start":{"line":94,"column":12},"end":{"line":94,"column":19}},{"start":{"line":95,"column":12},"end":{"line":96,"column":38}}],"line":84}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0},"b":{"0":[0,0,0,0],"1":[0,0,0,0],"2":[0,0,0,0]},"inputSourceMap":{"version":3,"sources":["user.js"],"names":["create","req","res","body","name","bio","website","User","user","send","find","postsByUser","id","params","findById","populate","posts"],"mappings":";;;;;;;;;;;;;AAAA;;eAEe;AACXA,EAAAA,MAAM;AAAA,gGAAG,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,0BAC0BD,GAAG,CAACE,IAD9B,EACGC,IADH,aACGA,IADH,EACSC,GADT,aACSA,GADT,EACcC,OADd,aACcA,OADd;AAAA;AAAA,qBAEcC,iBAAKP,MAAL,CAAY;AAC3BI,gBAAAA,IAAI,EAAJA,IAD2B;AAE3BC,gBAAAA,GAAG,EAAHA,GAF2B;AAG3BC,gBAAAA,OAAO,EAAPA;AAH2B,eAAZ,CAFd;;AAAA;AAECE,cAAAA,IAFD;AAAA,+CAQEN,GAAG,CAACO,IAAJ,CAASD,IAAT,CARF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA;AAAA;AAAA;;AAAA;AAAA,KADK;AAYXE,EAAAA,IAAI;AAAA,8FAAG,kBAAOT,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACgBK,iBAAKG,IAAL,EADhB;;AAAA;AACGF,cAAAA,IADH;AAAA,gDAEIN,GAAG,CAACO,IAAJ,CAASD,IAAT,CAFJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA;AAAA;AAAA;;AAAA;AAAA,KAZO;AAgBXG,EAAAA,WAAW;AAAA,qGAAG,kBAAOV,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AACHU,cAAAA,EADG,GACIX,GAAG,CAACY,MADR,CACHD,EADG;AAAA;AAAA,qBAEQL,iBAAKO,QAAL,CAAcF,EAAd,EAAkBG,QAAlB,CAA2B,OAA3B,CAFR;;AAAA;AAELP,cAAAA,IAFK;AAIVN,cAAAA,GAAG,CAACO,IAAJ,CAASD,IAAI,CAACQ,KAAd;;AAJU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAhBA,C,EAyBf;AACA;AACA;AACA;AACA","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\","sourcesContent":["import User from '../models/user'\r\n\r\nexport default {\r\n    create : async (req, res) =>{\r\n        const { name, bio, website } = req.body;\r\n        const user = await User.create({\r\n            name,\r\n            bio,\r\n            website\r\n        })\r\n\r\n        return res.send(user)\r\n    },\r\n\r\n    find : async (req, res) => {\r\n        const user = await User.find()\r\n        return res.send(user)\r\n    },\r\n    postsByUser : async (req, res) => {\r\n       const { id } = req.params;\r\n       const user = await User.findById(id).populate('posts');\r\n\r\n        res.send(user.posts);\r\n    }\r\n}\r\n\r\n\r\n// //notice that const user = await User.findById(id).populate('posts') is equivalent to :\r\n//  user.posts.forEach(async element => {\r\n//            const post = await Post.findById(element);\r\n//               console.log(post);\r\n//         });"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"368e148950f062294b81ade09bbdb4e2f7964efe","contentHash":"832e9b982dba7410107ae56c9ad0fce26dd4112e63855ebbbd913cdbcedc3e69"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\models\\user.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\models\\user.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":16},"end":{"line":10,"column":59}},"4":{"start":{"line":12,"column":17},"end":{"line":29,"column":2}},"5":{"start":{"line":31,"column":15},"end":{"line":31,"column":61}},"6":{"start":{"line":33,"column":0},"end":{"line":33,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["user.js"],"names":["UserSchema","mongoose","Schema","name","type","String","required","bio","website","posts","Types","ObjectId","ref","timestamps","model"],"mappings":";;;;;;;;;AAAA;;AAEA,IAAMA,UAAU,GAAG,IAAIC,qBAASC,MAAb,CAAoB;AACnCC,EAAAA,IAAI,EAAE;AACFC,IAAAA,IAAI,EAACC,MADH;AAEFC,IAAAA,QAAQ,EAAE;AAFR,GAD6B;AAKnCC,EAAAA,GAAG,EAAE;AACDH,IAAAA,IAAI,EAACC;AADJ,GAL8B;AAQnCG,EAAAA,OAAO,EAAC;AACJJ,IAAAA,IAAI,EAACC;AADD,GAR2B;AAWnCI,EAAAA,KAAK,EAAG,CACJ;AAACL,IAAAA,IAAI,EAAEH,qBAASC,MAAT,CAAgBQ,KAAhB,CAAsBC,QAA7B;AAAuCC,IAAAA,GAAG,EAAC;AAA3C,GADI;AAX2B,CAApB,EAcjB;AACEC,EAAAA,UAAU,EAAE;AADd,CAdiB,CAAnB;;eAkBeZ,qBAASa,KAAT,CAAe,MAAf,EAAsBd,UAAtB,C","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\models\\","sourcesContent":["import mongoose from 'mongoose'\r\n\r\nconst UserSchema = new mongoose.Schema({\r\n    name :{\r\n        type:String,\r\n        required: '{PATH} is required!'\r\n    },\r\n    bio: {\r\n        type:String\r\n    },\r\n    website:{\r\n        type:String\r\n    },\r\n    posts : [\r\n        {type: mongoose.Schema.Types.ObjectId, ref:'Post'}\r\n    ]\r\n},{\r\n    timestamps: true\r\n})\r\n\r\nexport default mongoose.model('User',UserSchema);"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ce77e1c965bde212c40c81444ac8df125f077ec7","contentHash":"865a0b41421a1d3fcdd2ef036f812543a75c1eccbf7f0cd94478e83bce0a482a"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\post.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\post.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":99}},"5":{"start":{"line":14,"column":12},"end":{"line":14,"column":61}},"6":{"start":{"line":16,"column":12},"end":{"line":16,"column":61}},"7":{"start":{"line":20,"column":15},"end":{"line":101,"column":1}},"8":{"start":{"line":22,"column":18},"end":{"line":64,"column":7}},"9":{"start":{"line":25,"column":6},"end":{"line":63,"column":18}},"10":{"start":{"line":26,"column":8},"end":{"line":62,"column":9}},"11":{"start":{"line":27,"column":10},"end":{"line":61,"column":11}},"12":{"start":{"line":29,"column":14},"end":{"line":29,"column":38}},"13":{"start":{"line":30,"column":14},"end":{"line":30,"column":32}},"14":{"start":{"line":31,"column":14},"end":{"line":31,"column":27}},"15":{"start":{"line":32,"column":14},"end":{"line":32,"column":91}},"16":{"start":{"line":33,"column":14},"end":{"line":33,"column":32}},"17":{"start":{"line":34,"column":14},"end":{"line":38,"column":17}},"18":{"start":{"line":41,"column":14},"end":{"line":41,"column":35}},"19":{"start":{"line":42,"column":14},"end":{"line":42,"column":32}},"20":{"start":{"line":43,"column":14},"end":{"line":43,"column":33}},"21":{"start":{"line":46,"column":14},"end":{"line":46,"column":33}},"22":{"start":{"line":47,"column":14},"end":{"line":47,"column":51}},"23":{"start":{"line":50,"column":14},"end":{"line":50,"column":39}},"24":{"start":{"line":51,"column":14},"end":{"line":51,"column":40}},"25":{"start":{"line":52,"column":14},"end":{"line":52,"column":33}},"26":{"start":{"line":53,"column":14},"end":{"line":53,"column":37}},"27":{"start":{"line":56,"column":14},"end":{"line":56,"column":67}},"28":{"start":{"line":60,"column":14},"end":{"line":60,"column":37}},"29":{"start":{"line":67,"column":6},"end":{"line":67,"column":44}},"30":{"start":{"line":70,"column":4},"end":{"line":70,"column":18}},"31":{"start":{"line":73,"column":22},"end":{"line":93,"column":7}},"32":{"start":{"line":75,"column":6},"end":{"line":92,"column":19}},"33":{"start":{"line":76,"column":8},"end":{"line":91,"column":9}},"34":{"start":{"line":77,"column":10},"end":{"line":90,"column":11}},"35":{"start":{"line":79,"column":14},"end":{"line":79,"column":33}},"36":{"start":{"line":80,"column":14},"end":{"line":80,"column":33}},"37":{"start":{"line":81,"column":14},"end":{"line":81,"column":68}},"38":{"start":{"line":84,"column":14},"end":{"line":84,"column":42}},"39":{"start":{"line":85,"column":14},"end":{"line":85,"column":35}},"40":{"start":{"line":89,"column":14},"end":{"line":89,"column":38}},"41":{"start":{"line":96,"column":6},"end":{"line":96,"column":48}},"42":{"start":{"line":99,"column":4},"end":{"line":99,"column":22}},"43":{"start":{"line":102,"column":0},"end":{"line":102,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":21,"column":10},"end":{"line":21,"column":11}},"loc":{"start":{"line":21,"column":22},"end":{"line":71,"column":3}},"line":21},"1":{"name":"_callee","decl":{"start":{"line":22,"column":105},"end":{"line":22,"column":112}},"loc":{"start":{"line":22,"column":123},"end":{"line":64,"column":5}},"line":22},"2":{"name":"_callee$","decl":{"start":{"line":25,"column":51},"end":{"line":25,"column":59}},"loc":{"start":{"line":25,"column":70},"end":{"line":63,"column":7}},"line":25},"3":{"name":"create","decl":{"start":{"line":66,"column":13},"end":{"line":66,"column":19}},"loc":{"start":{"line":66,"column":29},"end":{"line":68,"column":5}},"line":66},"4":{"name":"(anonymous_4)","decl":{"start":{"line":72,"column":14},"end":{"line":72,"column":15}},"loc":{"start":{"line":72,"column":26},"end":{"line":100,"column":3}},"line":72},"5":{"name":"_callee2","decl":{"start":{"line":73,"column":109},"end":{"line":73,"column":117}},"loc":{"start":{"line":73,"column":128},"end":{"line":93,"column":5}},"line":73},"6":{"name":"_callee2$","decl":{"start":{"line":75,"column":51},"end":{"line":75,"column":60}},"loc":{"start":{"line":75,"column":72},"end":{"line":92,"column":7}},"line":75},"7":{"name":"userByPost","decl":{"start":{"line":95,"column":13},"end":{"line":95,"column":23}},"loc":{"start":{"line":95,"column":34},"end":{"line":97,"column":5}},"line":95}},"branchMap":{"0":{"loc":{"start":{"line":27,"column":10},"end":{"line":61,"column":11}},"type":"switch","locations":[{"start":{"line":28,"column":12},"end":{"line":38,"column":17}},{"start":{"line":40,"column":12},"end":{"line":43,"column":33}},{"start":{"line":45,"column":12},"end":{"line":47,"column":51}},{"start":{"line":49,"column":12},"end":{"line":53,"column":37}},{"start":{"line":55,"column":12},"end":{"line":56,"column":67}},{"start":{"line":58,"column":12},"end":{"line":58,"column":20}},{"start":{"line":59,"column":12},"end":{"line":60,"column":37}}],"line":27},"1":{"loc":{"start":{"line":77,"column":10},"end":{"line":90,"column":11}},"type":"switch","locations":[{"start":{"line":78,"column":12},"end":{"line":81,"column":68}},{"start":{"line":83,"column":12},"end":{"line":85,"column":35}},{"start":{"line":87,"column":12},"end":{"line":87,"column":19}},{"start":{"line":88,"column":12},"end":{"line":89,"column":38}}],"line":77}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":1,"43":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0},"b":{"0":[0,0,0,0,0,0,0],"1":[0,0,0,0]},"inputSourceMap":{"version":3,"sources":["post.js"],"names":["create","req","res","console","log","params","user","id","body","title","subtitle","Post","post","save","User","findById","userById","posts","push","send","userByPost","populate"],"mappings":";;;;;;;;;;;;;AAGA;;AACA;;AAJA;AACA;eAKe;AACXA,EAAAA,MAAM;AAAA,gGAAG,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAELC,cAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,MAAhB;AACAC,cAAAA,IAAI,GAAGL,GAAG,CAACI,MAAX;AACAE,cAAAA,EAAE,GAAGD,IAAI,CAACC,EAAV;AAJK,0BAKsBN,GAAG,CAACO,IAL1B,EAKGC,KALH,aAKGA,KALH,EAKUC,QALV,aAKUA,QALV;AAAA;AAAA,qBAMcC,iBAAKX,MAAL,CAAY;AAC3BS,gBAAAA,KAAK,EAALA,KAD2B;AAE3BC,gBAAAA,QAAQ,EAARA,QAF2B;AAG3BJ,gBAAAA,IAAI,EAACC;AAHsB,eAAZ,CANd;;AAAA;AAMCK,cAAAA,IAND;AAAA;AAAA,qBAWCA,IAAI,CAACC,IAAL,EAXD;;AAAA;AAAA;AAAA,qBAakBC,iBAAKC,QAAL,CAAcR,EAAd,CAblB;;AAAA;AAaCS,cAAAA,QAbD;AAeLA,cAAAA,QAAQ,CAACC,KAAT,CAAeC,IAAf,CAAoBN,IAApB;AAfK;AAAA,qBAgBCI,QAAQ,CAACH,IAAT,EAhBD;;AAAA;AAAA,+CAkBEX,GAAG,CAACiB,IAAJ,CAASH,QAAT,CAlBF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA;AAAA;AAAA;;AAAA;AAAA,KADK;AAqBXI,EAAAA,UAAU;AAAA,oGAAG,kBAAOnB,GAAP,EAAWC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AACDK,cAAAA,EADC,GACMN,GAAG,CAACI,MADV,CACDE,EADC;AAAA;AAAA,qBAEgBI,iBAAKI,QAAL,CAAcR,EAAd,EAAkBc,QAAlB,CAA2B,MAA3B,CAFhB;;AAAA;AAEHD,cAAAA,UAFG;AAGTlB,cAAAA,GAAG,CAACiB,IAAJ,CAASC,UAAT;;AAHS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA;AAAA;AAAA;;AAAA;AAAA;AArBC,C","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\controllers\\","sourcesContent":["// const Post = require('../../models/post');\r\n// const User = require('../../models/user');\r\n\r\nimport Post from '../models/post'\r\nimport User from '../models/user'\r\n\r\nexport default {\r\n    create : async (req, res) => {\r\n\r\n        console.log(req.params);\r\n        user = req.params;\r\n        id = user.id;\r\n        const { title, subtitle} = req.body;\r\n        const post = await Post.create({\r\n            title,\r\n            subtitle,\r\n            user:id\r\n        });\r\n        await post.save();\r\n\r\n        const userById = await User.findById(id);\r\n\r\n        userById.posts.push(post);\r\n        await userById.save();\r\n\r\n        return res.send(userById);\r\n    },\r\n    userByPost : async (req,res)=>{\r\n        const { id } = req.params;\r\n        const userByPost = await Post.findById(id).populate('user');\r\n        res.send(userByPost);\r\n    }\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"70330a8fff2f45238e07424c4e1caa5c302c0d56","contentHash":"700f6f52d87379cdee153859a6e35c00f97494468a630e0a135e3d6f53a904b7"},"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\models\\post.js":{"path":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\models\\post.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":16},"end":{"line":5,"column":59}},"2":{"start":{"line":7,"column":17},"end":{"line":21,"column":2}},"3":{"start":{"line":22,"column":0},"end":{"line":22,"column":64}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["post.js"],"names":["PostSchema","mongoose","Schema","title","type","String","required","subtitle","user","Types","ObjectId","ref","timestamps","module","exports","model"],"mappings":";;;;AAAA;;AAEA,IAAMA,UAAU,GAAG,IAAIC,qBAASC,MAAb,CAAoB;AACnCC,EAAAA,KAAK,EAAC;AACFC,IAAAA,IAAI,EAACC,MADH;AAEFC,IAAAA,QAAQ,EAAE;AAFR,GAD6B;AAKnCC,EAAAA,QAAQ,EAAE;AACNH,IAAAA,IAAI,EAAEC;AADA,GALyB;AAQnCG,EAAAA,IAAI,EAAE;AACFJ,IAAAA,IAAI,EAACH,qBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QADzB;AAEFC,IAAAA,GAAG,EAAC;AAFF;AAR6B,CAApB,EAYjB;AACEC,EAAAA,UAAU,EAAC;AADb,CAZiB,CAAnB;AAgBAC,MAAM,CAACC,OAAP,GAAiBb,qBAASc,KAAT,CAAe,MAAf,EAAsBf,UAAtB,CAAjB","sourceRoot":"E:\\SOFTWARE ENGENEER\\ANDELA\\my-brand\\sergenm.github.io\\server\\models\\","sourcesContent":["import mongoose from 'mongoose'\r\n\r\nconst PostSchema = new mongoose.Schema({\r\n    title:{\r\n        type:String,\r\n        required: '{PATH} is required!'\r\n    },\r\n    subtitle :{\r\n        type: String\r\n    },\r\n    user :{\r\n        type:mongoose.Schema.Types.ObjectId,\r\n        ref:'User'\r\n    }\r\n},{\r\n    timestamps:true\r\n})\r\n\r\nmodule.exports = mongoose.model('Post',PostSchema);"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e050576ae5c8724e3bd495ae86165f2cdc1f8486","contentHash":"bc7bcb2670838b8df925c083a8bde271ed810e68a03bdbd45b60811e92a75905"}}